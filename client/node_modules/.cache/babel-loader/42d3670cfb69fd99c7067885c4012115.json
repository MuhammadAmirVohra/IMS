{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\amira\\\\Desktop\\\\IMS\\\\client\\\\src\\\\App.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport Login from './components/login/Login_Form';\nimport React, { useState } from 'react';\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport { createGlobalStyle } from \"styled-components\";\nimport Dashboard from './components/dashboard/Dashboard';\nimport LogOut from './components/logout/Logout'; // import SepModal from './components/table/SepModal'\n// import Modal from './components/modal/modal'\n\nimport AuthApi from './components/Authapi'; // import Cookies from 'js-cookie';\n\nimport HODDashboard from './components/hod_dashboard/Hod_dashboard'; // import Request_Form from './components/Request_Form/Request_Form'\n\nimport PurchaseDashboard from './components/purchaseDashboard/Purchase_dashboard'; // import axios from 'axios'\n\nimport MDashboard from './components/managerDashboard/Manager_dashboard';\nimport AccountsManagerDetails from './components/RequestDetails/Accounts_manager';\nimport ManagerAdminDetails from './components/RequestDetails/Manager_admin';\nimport DirectorDetails from './components/RequestDetails/Director';\nimport StoreDashboard from './components/StoreDashboard/Store_Dashboard';\nimport Inventory from './components/inventory/Inventory';\nimport RecieveItems from './components/recieve_items/Recieve_Items';\nimport IssueItems from './components/issue/Issue_items';\nimport StockReport from './components/stock_report/Stock_Report';\nimport ProductLedger from './components/product_ledger/Product_Ledger'; // import Cookie from 'universal-cookie'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst GlobalStyle = createGlobalStyle`\n@import url('https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&display=swap');\n    *{\n        font-family: 'Merriweather', sans-serif;\n   }\n    \n`;\n_c = GlobalStyle;\n\nfunction App() {\n  _s();\n\n  // const cookie = new Cookie()\n  const [token, settoken] = useState(false);\n  const [UserRole, setRole] = useState(false);\n  console.log(token);\n\n  function CheckUser() {\n    // await  axios({\n    //     method: \"POST\",\n    //     withCredentials: true,\n    //     url: \"http://localhost:5000/loggedin_user\",\n    //   }).then((res) => {\n    //     if(res.data)\n    //     {\n    //         if(res.data.code === 404)\n    //         {\n    // settoken(false);\n    // setRole(\"\");\n    //         }\n    //         else\n    //         {\n    //             settoken(true);\n    //             setRole(res.data.user.user.Designation);\n    //         }\n    //     }\n    // });\n    let tok = localStorage.getItem('token'); // let tok = cookie.get('token');\n\n    if (tok) {\n      console.log('token found');\n      settoken(true); // var u = cookie.get('user');\n\n      setRole(localStorage.getItem('user')); // setRole(u);\n    } else {\n      console.log('No token found');\n      settoken(false);\n      setRole(\"\");\n    }\n  }\n\n  React.useEffect(() => {\n    CheckUser(); // const user  = Cookies.get('user');\n    // if (user) {\n    //     settoken(true);\n    // }\n    // else\n    // {\n    //     settoken(false);\n    // }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(GlobalStyle, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(AuthApi.Provider, {\n      value: {\n        token,\n        settoken,\n        UserRole,\n        setRole,\n        CheckUser\n      },\n      children: /*#__PURE__*/_jsxDEV(BrowserRouter, {\n        children: /*#__PURE__*/_jsxDEV(Routes, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(App, \"JLIuqv/wOqShY8Bf2m33ke3KAfI=\");\n\n_c2 = App;\n\nconst Routes = () => {\n  _s2();\n\n  // const cookie = new Cookie()\n  const Auth = React.useContext(AuthApi);\n  return /*#__PURE__*/_jsxDEV(Switch, {\n    children: [/*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => {\n        let tok = localStorage.getItem('token'); // let tok = cookie.get('token');\n\n        if (tok) {\n          console.log('token found');\n          Auth.settoken(true);\n          Auth.setRole(localStorage.getItem('user')); // Auth.setRole(cookie.get('user'));\n        } else {\n          console.log('No token found');\n          Auth.settoken(false);\n          Auth.setRole(\"\");\n        }\n\n        console.log('Auth Token ', Auth.token);\n        console.log('Auth User Role ', Auth.userRole); // Auth.token === null ? (<Login />) :  <Redirect to=\"/dashboard\"/>\n\n        if (Auth.token === false) {\n          console.log(\"here\");\n          return /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 32\n          }, this);\n        } else if (Auth.token !== false && Auth.UserRole === 'General') {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 32\n          }, this);\n        } else if (Auth.token !== false && Auth.UserRole === 'Purchase') {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/purchase\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 32\n          }, this);\n        } else if (Auth.token !== false && Auth.UserRole === 'Head') {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/hoddashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 32\n          }, this);\n        } else if (Auth.token !== false && (Auth.UserRole === 'Accounts' || Auth.UserRole === \"Admin\" || Auth.UserRole === \"Director\")) {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/managerdashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 32\n          }, this);\n        } else if (Auth.token !== false && Auth.UserRole === 'Store') {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/storedashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 32\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/inventory\",\n      render: () => {\n        if (Auth.token !== false && Auth.UserRole === \"Store\") {\n          return /*#__PURE__*/_jsxDEV(Inventory, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 30\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            exact: true,\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 30\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/:id/issue\",\n      render: () => {\n        if (Auth.token !== false && Auth.UserRole === \"Store\") {\n          return /*#__PURE__*/_jsxDEV(IssueItems, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 30\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            exact: true,\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 30\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/productledger\",\n      render: () => {\n        if (Auth.token !== false && Auth.UserRole === \"Store\") {\n          return /*#__PURE__*/_jsxDEV(ProductLedger, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 30\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            exact: true,\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 30\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/stockreport\",\n      render: () => {\n        if (Auth.token !== false && Auth.UserRole === \"Store\") {\n          return /*#__PURE__*/_jsxDEV(StockReport, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 30\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            exact: true,\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 30\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/:id/accounts\",\n      render: () => {\n        if (Auth.token !== false && Auth.UserRole === \"Accounts\") {\n          return /*#__PURE__*/_jsxDEV(AccountsManagerDetails, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 30\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            exact: true,\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 30\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/recieveitems\",\n      render: () => {\n        if (Auth.token !== false && Auth.UserRole === \"Store\") {\n          return /*#__PURE__*/_jsxDEV(RecieveItems, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 30\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            exact: true,\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 30\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/:id/admin\",\n      render: () => {\n        if (Auth.token !== false && Auth.UserRole === \"Admin\") {\n          return /*#__PURE__*/_jsxDEV(ManagerAdminDetails, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 30\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            exact: true,\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 30\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/:id/director\",\n      render: () => {\n        if (Auth.token !== false && Auth.UserRole === \"Director\") {\n          return /*#__PURE__*/_jsxDEV(DirectorDetails, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 30\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            exact: true,\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 30\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/dashboard\",\n      render: () => {\n        console.log('Auth Token ', Auth.token);\n        console.log('Auth User Role ', Auth.userRole);\n\n        if (Auth.token !== false && (Auth.UserRole === 'General' || Auth.UserRole === 'Head')) {\n          return /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 34\n          }, this);\n        } else {\n          console.log('here');\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            exact: true,\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 32\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/hoddashboard\",\n      render: () => {\n        if (Auth.token !== false && Auth.UserRole === 'Head') {\n          return /*#__PURE__*/_jsxDEV(HODDashboard, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 34\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 32\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/logout\",\n      render: () => {\n        if (Auth.token !== false) {\n          return /*#__PURE__*/_jsxDEV(LogOut, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 34\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 32\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/purchase\",\n      render: () => {\n        if (Auth.token !== false && Auth.UserRole === 'Purchase') {\n          return /*#__PURE__*/_jsxDEV(PurchaseDashboard, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 34\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 32\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/managerdashboard\",\n      render: () => {\n        if (Auth.token !== false && (Auth.UserRole === 'Admin' || Auth.UserRole === \"Accounts\" || Auth.UserRole === \"Director\")) {\n          return /*#__PURE__*/_jsxDEV(MDashboard, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 34\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 32\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/storedashboard\",\n      render: () => {\n        if (Auth.token !== false && Auth.UserRole === 'Store') {\n          return /*#__PURE__*/_jsxDEV(StoreDashboard, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 33\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 31\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 16\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/*\",\n      render: () => {\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 31\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 125,\n    columnNumber: 12\n  }, this);\n}; // const ProtectRoute = ({token, comp: Component, ...rest})=>{\n//     // const Auth = React.useContext(AuthApi);\n//     return (\n//         <Route \n//         {...rest}\n//         render={() =>{ \n//          if (token)\n//             {\n//                 console.log(\"Token is true\")\n//                 return <Component />\n//             }\n//         else\n//             {\n//                 console.log(\"Token is not true\")\n//                 return (<Redirect to='/' exact/>)\n//             }    \n//         }\n//     }\n//         />\n//     )\n// }\n// const ProtectLogin = ({token, components: Component, ...rest})=>{\n//     return (\n//         <Route \n//         {...rest}\n//         render={() => token ? (\n//             <Redirect to='/dashboard'/>    \n//         ):\n//         (\n//             <Component />\n//         )\n//     }\n//         />\n//     )\n// }\n\n\n_s2(Routes, \"e+B7P7jnYCaOJfuwMJd2WG+FpFM=\");\n\n_c3 = Routes;\nexport default App;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"GlobalStyle\");\n$RefreshReg$(_c2, \"App\");\n$RefreshReg$(_c3, \"Routes\");","map":{"version":3,"sources":["C:/Users/amira/Desktop/IMS/client/src/App.js"],"names":["Login","React","useState","BrowserRouter","Switch","Route","Redirect","createGlobalStyle","Dashboard","LogOut","AuthApi","HODDashboard","PurchaseDashboard","MDashboard","AccountsManagerDetails","ManagerAdminDetails","DirectorDetails","StoreDashboard","Inventory","RecieveItems","IssueItems","StockReport","ProductLedger","GlobalStyle","App","token","settoken","UserRole","setRole","console","log","CheckUser","tok","localStorage","getItem","useEffect","Routes","Auth","useContext","userRole"],"mappings":"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","sourcesContent":["import Login from './components/login/Login_Form';\r\nimport React, { useState } from 'react';\r\nimport {BrowserRouter, Switch, Route, Redirect} from 'react-router-dom';\r\nimport { createGlobalStyle } from \"styled-components\";\r\nimport Dashboard from './components/dashboard/Dashboard';\r\nimport LogOut from './components/logout/Logout'\r\n// import SepModal from './components/table/SepModal'\r\n// import Modal from './components/modal/modal'\r\nimport AuthApi from './components/Authapi'\r\n// import Cookies from 'js-cookie';\r\nimport HODDashboard from './components/hod_dashboard/Hod_dashboard'\r\n// import Request_Form from './components/Request_Form/Request_Form'\r\nimport PurchaseDashboard from './components/purchaseDashboard/Purchase_dashboard'\r\n// import axios from 'axios'\r\nimport MDashboard from './components/managerDashboard/Manager_dashboard'\r\nimport AccountsManagerDetails from './components/RequestDetails/Accounts_manager'\r\nimport ManagerAdminDetails from './components/RequestDetails/Manager_admin'\r\nimport DirectorDetails from './components/RequestDetails/Director'\r\nimport StoreDashboard from './components/StoreDashboard/Store_Dashboard'\r\nimport Inventory from './components/inventory/Inventory'\r\nimport RecieveItems from './components/recieve_items/Recieve_Items'\r\nimport IssueItems from './components/issue/Issue_items'\r\nimport StockReport from './components/stock_report/Stock_Report';\r\nimport ProductLedger from './components/product_ledger/Product_Ledger';\r\n// import Cookie from 'universal-cookie'\r\nconst GlobalStyle = createGlobalStyle`\r\n@import url('https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&display=swap');\r\n    *{\r\n        font-family: 'Merriweather', sans-serif;\r\n   }\r\n    \r\n`; \r\nfunction App() \r\n{\r\n    // const cookie = new Cookie()\r\n    const [token , settoken] = useState(false)\r\n    const [UserRole , setRole] = useState(false)\r\n\r\n    console.log(token)\r\n\r\n    function CheckUser()\r\n    {\r\n        // await  axios({\r\n        //     method: \"POST\",\r\n        //     withCredentials: true,\r\n        //     url: \"http://localhost:5000/loggedin_user\",\r\n        //   }).then((res) => {\r\n\r\n        //     if(res.data)\r\n        //     {\r\n        //         if(res.data.code === 404)\r\n        //         {\r\n                    // settoken(false);\r\n                    // setRole(\"\");\r\n        //         }\r\n        //         else\r\n        //         {\r\n        //             settoken(true);\r\n        //             setRole(res.data.user.user.Designation);\r\n        //         }\r\n        //     }\r\n            \r\n\r\n        // });\r\n\r\n            \r\n        let tok = localStorage.getItem('token');\r\n        // let tok = cookie.get('token');\r\n\r\n        if (tok) {\r\n\r\n            console.log('token found');\r\n            settoken(true); \r\n            // var u = cookie.get('user');\r\n            setRole(localStorage.getItem('user'));\r\n            // setRole(u);\r\n        }\r\n        else\r\n        {\r\n            console.log('No token found');\r\n            settoken(false); setRole(\"\");\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    React.useEffect(()=> {\r\n        \r\n        CheckUser();\r\n\r\n        \r\n        // const user  = Cookies.get('user');\r\n        // if (user) {\r\n        //     settoken(true);\r\n        // }\r\n        // else\r\n        // {\r\n        //     settoken(false);\r\n        // }\r\n    },[])\r\n\r\n        return ( \r\n        <>\r\n        <GlobalStyle/>\r\n            <AuthApi.Provider value = {{token, settoken, UserRole, setRole, CheckUser}}>\r\n            <BrowserRouter>\r\n                <Routes />\r\n            </BrowserRouter>   \r\n            </AuthApi.Provider>    \r\n        </>\r\n    );\r\n}\r\n\r\nconst Routes = () =>{\r\n    // const cookie = new Cookie()\r\n    const Auth = React.useContext(AuthApi);\r\n    return(         \r\n           \r\n           <Switch>\r\n                <Route exact path=\"/\" render={() => {\r\n                    let tok = localStorage.getItem('token');\r\n                    // let tok = cookie.get('token');\r\n                    if (tok) {\r\n            \r\n                        console.log('token found');\r\n                        Auth.settoken(true); \r\n                        Auth.setRole(localStorage.getItem('user'));\r\n                        // Auth.setRole(cookie.get('user'));\r\n\r\n                    }\r\n                    else\r\n                    {\r\n                        console.log('No token found');\r\n                        Auth.settoken(false); Auth.setRole(\"\");\r\n                    }\r\n            \r\n            \r\n                    console.log('Auth Token ', Auth.token);\r\n                    console.log('Auth User Role ', Auth.userRole);\r\n\r\n                    // Auth.token === null ? (<Login />) :  <Redirect to=\"/dashboard\"/>\r\n                        \r\n\r\n                    if (Auth.token === false)   \r\n                    {\r\n                        console.log(\"here\") ;\r\n                        return <Login /> \r\n                    }\r\n                    else if(Auth.token !== false && Auth.UserRole === 'General')   \r\n                    {\r\n                        return <Redirect to=\"/dashboard\"/>\r\n                    }\r\n                    else if(Auth.token !== false && Auth.UserRole === 'Purchase')   \r\n                    {\r\n                        return <Redirect to=\"/purchase\"/>\r\n                    }\r\n                    else if(Auth.token !== false && Auth.UserRole === 'Head')   \r\n                    {\r\n                        return <Redirect to=\"/hoddashboard\"/>\r\n                    }\r\n                    else if(Auth.token !== false && (Auth.UserRole === 'Accounts' || Auth.UserRole === \"Admin\" || Auth.UserRole === \"Director\") )\r\n                    {\r\n                        return <Redirect to=\"/managerdashboard\"/>\r\n                    }\r\n                    else if(Auth.token !== false && Auth.UserRole === 'Store'  )\r\n                    {\r\n                        return <Redirect to=\"/storedashboard\"/>\r\n                    }\r\n                    \r\n                    \r\n                    \r\n                       \r\n                       \r\n                }}>\r\n\r\n\r\n                    \r\n                </Route>  \r\n                {/* <ProtectLogin path = '/' exact components = {Login} token = {Auth.token} /> */}\r\n\r\n                <Route path =\"/inventory\"\r\n                render={() => {\r\n                    if (Auth.token !== false && (Auth.UserRole === \"Store\"))\r\n                    { return <Inventory/>}\r\n                    else\r\n                    { return <Redirect exact to=\"/\" ></Redirect>}\r\n\r\n\r\n                }}>\r\n                </Route>\r\n                {/* <Route path =\"/:itemName/issuerequest\"\r\n                render={() => {\r\n                    if (Auth.token !== false && (Auth.UserRole === \"Store\"))\r\n                    { return <IssueItems/>}\r\n                    else\r\n                    { return <Redirect exact to=\"/\" ></Redirect>}\r\n\r\n\r\n                }}>\r\n                </Route> */}\r\n                <Route path =\"/:id/issue\"\r\n                render={() => {\r\n                    if (Auth.token !== false && (Auth.UserRole === \"Store\"))\r\n                    { return <IssueItems/>}\r\n                    else\r\n                    { return <Redirect exact to=\"/\" ></Redirect>}\r\n\r\n\r\n                }}>\r\n                </Route>\r\n\r\n                <Route path =\"/productledger\"\r\n                render={() => {\r\n                    if (Auth.token !== false && (Auth.UserRole === \"Store\"))\r\n                    { return <ProductLedger/>}\r\n                    else\r\n                    { return <Redirect exact to=\"/\" ></Redirect>}\r\n\r\n\r\n                }}>\r\n                </Route>\r\n\r\n                <Route path =\"/stockreport\"\r\n                render={() => {\r\n                    if (Auth.token !== false && (Auth.UserRole === \"Store\"))\r\n                    { return <StockReport/>}\r\n                    else\r\n                    { return <Redirect exact to=\"/\" ></Redirect>}\r\n\r\n\r\n                }}>\r\n                </Route>\r\n\r\n                <Route path =\"/:id/accounts\"\r\n                render={() => {\r\n                    if (Auth.token !== false && (Auth.UserRole === \"Accounts\"))\r\n                    { return <AccountsManagerDetails/>}\r\n                    else\r\n                    { return <Redirect exact to=\"/\" ></Redirect>}\r\n\r\n\r\n                }}>\r\n                </Route>\r\n\r\n                <Route path =\"/recieveitems\"\r\n                render={() => {\r\n                    if (Auth.token !== false && (Auth.UserRole === \"Store\"))\r\n                    { return <RecieveItems/>}\r\n                    else\r\n                    { return <Redirect exact to=\"/\" ></Redirect>}\r\n\r\n\r\n                }}>\r\n                </Route>\r\n                <Route path =\"/:id/admin\"\r\n                render={() => {\r\n                    if (Auth.token !== false && (Auth.UserRole === \"Admin\"))\r\n                    { return <ManagerAdminDetails/>}\r\n                    else\r\n                    { return <Redirect exact to=\"/\" ></Redirect>}\r\n\r\n\r\n                }}> \r\n\r\n                </Route>\r\n                \r\n                <Route path =\"/:id/director\"\r\n                render={() => {\r\n                    if (Auth.token !== false && (Auth.UserRole === \"Director\"))\r\n                    { return <DirectorDetails/>}\r\n                    else\r\n                    { return <Redirect exact to=\"/\" ></Redirect>}\r\n\r\n\r\n                }}> \r\n\r\n                </Route>\r\n                \r\n                <Route  path=\"/dashboard\" \r\n                render={() => {\r\n                    console.log('Auth Token ', Auth.token);\r\n                    console.log('Auth User Role ', Auth.userRole);\r\n                    if (Auth.token !== false && (Auth.UserRole === 'General' || Auth.UserRole === 'Head'))   \r\n                        { return <Dashboard /> }\r\n                    else    \r\n                    {\r\n                        console.log('here');\r\n                        return <Redirect exact to=\"/\" />\r\n                    }\r\n                       \r\n                       \r\n                }}>\r\n                </Route>\r\n                {/* <ProtectRoute path = '/dashboard' exact comp = {Dashboard} token = {Auth.token} /> */}\r\n\r\n                <Route  path=\"/hoddashboard\" \r\n                render={() => {\r\n                    if (Auth.token !== false && (Auth.UserRole === 'Head'))   \r\n                        { return <HODDashboard/> }\r\n                    else    \r\n                    {\r\n                        return <Redirect to=\"/\"/>\r\n                    }\r\n                       \r\n                       \r\n                }}>\r\n                </Route>\r\n                    \r\n                <Route  path=\"/logout\" \r\n                render={() => {\r\n                    if (Auth.token !== false )   \r\n                        { return <LogOut/> }\r\n                    else    \r\n                    {\r\n                        return <Redirect to=\"/\"/>\r\n                    }\r\n                       \r\n                       \r\n                }}>\r\n                </Route>\r\n                    \r\n                <Route  path=\"/purchase\" \r\n                render={() => {\r\n                    if (Auth.token !== false && (Auth.UserRole === 'Purchase'))   \r\n                        { return <PurchaseDashboard/> }\r\n                    else    \r\n                    {\r\n                        return <Redirect to=\"/\"/>\r\n                    }\r\n                       \r\n                       \r\n                }}>\r\n                </Route>    \r\n                \r\n                <Route  path=\"/managerdashboard\" \r\n                render={() => {\r\n                    if (Auth.token !== false && (Auth.UserRole === 'Admin' || Auth.UserRole === \"Accounts\" || Auth.UserRole === \"Director\"))   \r\n                        { return <MDashboard /> }\r\n                    else    \r\n                    {\r\n                        return <Redirect to=\"/\"/>\r\n                    }\r\n                       \r\n                       \r\n                }}>\r\n                </Route>  \r\n\r\n               <Route  path=\"/storedashboard\" \r\n               render={() => {\r\n                   if (Auth.token !== false && Auth.UserRole === 'Store')   \r\n                       { return <StoreDashboard /> }\r\n                   else    \r\n                   {\r\n                       return <Redirect to=\"/\"/>\r\n                   }\r\n                      \r\n                      \r\n               }}>\r\n                </Route>\r\n                <Route  path=\"/*\" \r\n               render={() => {\r\n                       return <Redirect to=\"/\"/>   \r\n                      \r\n               }}>\r\n    \r\n               </Route> \r\n            </Switch>\r\n         \r\n    )\r\n}\r\n\r\n// const ProtectRoute = ({token, comp: Component, ...rest})=>{\r\n//     // const Auth = React.useContext(AuthApi);\r\n    \r\n//     return (\r\n\r\n//         <Route \r\n//         {...rest}\r\n//         render={() =>{ \r\n//          if (token)\r\n//             {\r\n//                 console.log(\"Token is true\")\r\n//                 return <Component />\r\n//             }\r\n        \r\n//         else\r\n//             {\r\n//                 console.log(\"Token is not true\")\r\n//                 return (<Redirect to='/' exact/>)\r\n//             }    \r\n//         }\r\n    \r\n    \r\n//     }\r\n        \r\n//         />\r\n//     )\r\n// }\r\n\r\n\r\n// const ProtectLogin = ({token, components: Component, ...rest})=>{\r\n//     return (\r\n        \r\n//         <Route \r\n//         {...rest}\r\n//         render={() => token ? (\r\n//             <Redirect to='/dashboard'/>    \r\n//         ):\r\n//         (\r\n//             <Component />\r\n//         )\r\n    \r\n    \r\n//     }\r\n        \r\n//         />\r\n//     )\r\n// }\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}