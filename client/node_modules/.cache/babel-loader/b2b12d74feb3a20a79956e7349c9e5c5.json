{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/amir/Desktop/New File/IMS/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _regeneratorRuntime from\"/home/amir/Desktop/New File/IMS/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/amir/Desktop/New File/IMS/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/amir/Desktop/New File/IMS/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2,_templateObject3;import HeaderPages from'../header/Header_pages';import{Card,Form,Container,Button}from'react-bootstrap';import axios from'axios';import{useEffect,useState}from'react';import{useParams}from'react-router-dom';import moment from'moment';import styled from'styled-components';import download from'downloadjs';import{API_URL}from'../../utils/constant';import{useHistory}from'react-router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Account_Manager=function Account_Manager(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),comments=_useState2[0],set_comments=_useState2[1];var _useParams=useParams(),id=_useParams.id;var history=useHistory();var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),details=_useState4[0],setDetails=_useState4[1];// const [path, setPath] = useState(\"\");\nconsole.log(\"Params \",id);useEffect(function(){axios.get(\"\".concat(API_URL,\"/\")+id+'/accountsrequest').then(function(res){setDetails(res.data);// setPath(res.data.path)\nconsole.log(res.data);});},[id]);var SubmitComment=function SubmitComment(){axios.post(\"\".concat(API_URL,\"/submitaccounts\"),{id:id,comment:comments}).then(function(res){if(res.data.code===200){console.log('Comment Added');history.push('/managerdashboard');}else if(res.data.code===404){window.flash('Failed to submit comment','danger');// console.log('Comment Added')\n// history.push('/managerdashboard')\n}});};var Download=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"\".concat(API_URL,\"/\").concat(id,\"/download\"),{responseType:'blob'}).then(function(res){download(res.data,'quotation','pdf');});case 2:case\"end\":return _context.stop();}}},_callee);}));return function Download(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(HeaderPages,{}),/*#__PURE__*/_jsx(MainContainer,{children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:\"Request Details\"}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(Card.Title,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name: \"}),details.R_Emp_Name]}),/*#__PURE__*/_jsxs(Card.Title,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email: \"}),details.R_Emp_Email]}),/*#__PURE__*/_jsxs(Card.Title,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Item: \"}),details.Item]}),/*#__PURE__*/_jsxs(Card.Title,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Duration: \"}),details.Duration]}),/*#__PURE__*/_jsxs(Card.Title,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Quantity: \"}),details.Quantity]}),/*#__PURE__*/_jsxs(Card.Title,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Reason : \"}),details.Reason]}),/*#__PURE__*/_jsxs(Card.Title,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date Requested \"}),moment(details.Added).format('Do MMMM YYYY')]}),/*#__PURE__*/_jsx(Btn,{onClick:Download,children:\"Download Quotation\"}),/*#__PURE__*/_jsxs(Form,{className:\"mt-4\",onSubmit:SubmitComment,children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(CardTitle,{children:[\"Add Comments\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsx(Form.Control,{placeholder:\"Enter Comments\",as:\"textarea\",row:5,value:comments,onChange:function onChange(e){set_comments(e.target.value);}})]}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Btn,{type:\"submit\",className:\"btn btn-md float-right\",children:\"Submit\"})})]})]})]})})]});};export default Account_Manager;var MainContainer=styled(Container)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    width: 100%;\\n    height: auto;\\n    min-height: 100%;\\n    min-height: 100vh;\\n    margin-top:100px;\\n\"])));var Btn=styled(Button)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    background :#EFBB20;\\n    border: none; \\n    &:hover{\\n    background: #0e8ccc;\\n}\"])));var CardTitle=styled(Card.Title)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\nspan{\\n    color : red;\\n}\\n\"])));","map":{"version":3,"sources":["/home/amir/Desktop/New File/IMS/client/src/components/RequestDetails/Accounts_manager.js"],"names":["HeaderPages","Card","Form","Container","Button","axios","useEffect","useState","useParams","moment","styled","download","API_URL","useHistory","Account_Manager","comments","set_comments","id","history","details","setDetails","console","log","get","then","res","data","SubmitComment","post","comment","code","push","window","flash","Download","responseType","R_Emp_Name","R_Emp_Email","Item","Duration","Quantity","Reason","Added","format","e","target","value","MainContainer","Btn","CardTitle","Title"],"mappings":"urBAAA,MAAOA,CAAAA,WAAP,KAAwB,wBAAxB,CACA,OAAQC,IAAR,CAAcC,IAAd,CAAmBC,SAAnB,CAA8BC,MAA9B,KAA2C,iBAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,SAAR,CAAmBC,QAAnB,KAAkC,OAAlC,CACA,OAAQC,SAAR,KAAwB,kBAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,OAASC,OAAT,KAAwB,sBAAxB,CACA,OAAQC,UAAR,KAAyB,cAAzB,C,6IAEA,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAK,CAEzB,cAAiCP,QAAQ,CAAC,EAAD,CAAzC,wCAAOQ,QAAP,eAAiBC,YAAjB,eACA,eAAgBR,SAAS,EAAzB,CAASS,EAAT,YAASA,EAAT,CACA,GAAMC,CAAAA,OAAO,CAAGL,UAAU,EAA1B,CACA,eAA8BN,QAAQ,CAAC,EAAD,CAAtC,yCAAOY,OAAP,eAAgBC,UAAhB,eACA;AACAC,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAwBL,EAAxB,EACAX,SAAS,CAAE,UAAK,CAChBD,KAAK,CAACkB,GAAN,CAAU,UAAGX,OAAH,MAAgBK,EAAhB,CAAqB,kBAA/B,EACCO,IADD,CAEI,SAACC,GAAD,CAAS,CACLL,UAAU,CAACK,GAAG,CAACC,IAAL,CAAV,CACA;AACAL,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACC,IAAhB,EAEH,CAPL,EASC,CAVQ,CAUP,CAACT,EAAD,CAVO,CAAT,CAYA,GAAMU,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAI,CACtBtB,KAAK,CAACuB,IAAN,WAAchB,OAAd,oBAAwC,CAAEK,EAAE,CAAGA,EAAP,CAAWY,OAAO,CAAGd,QAArB,CAAxC,EAAyES,IAAzE,CAA8E,SAACC,GAAD,CAAO,CAC7E,GAAGA,GAAG,CAACC,IAAJ,CAASI,IAAT,GAAkB,GAArB,CACA,CACIT,OAAO,CAACC,GAAR,CAAY,eAAZ,EACAJ,OAAO,CAACa,IAAR,CAAa,mBAAb,EACH,CAJD,IAKK,IAAGN,GAAG,CAACC,IAAJ,CAASI,IAAT,GAAkB,GAArB,CACL,CACIE,MAAM,CAACC,KAAP,CAAa,0BAAb,CAAyC,QAAzC,EACA;AACA;AACH,CACR,CAZD,EAaH,CAdD,CAiBA,GAAMC,CAAAA,QAAQ,0FAAG,yJACP7B,CAAAA,KAAK,CAACkB,GAAN,WAAaX,OAAb,aAAwBK,EAAxB,cAAuC,CACzCkB,YAAY,CAAE,MAD2B,CAAvC,EAEDX,IAFC,CAEI,SAACC,GAAD,CAAO,CACbd,QAAQ,CAACc,GAAG,CAACC,IAAL,CAAW,WAAX,CAAwB,KAAxB,CAAR,CACD,CAJG,CADO,uDAAH,kBAARQ,CAAAA,QAAQ,0CAAd,CASA,mBAEI,wCACA,KAAC,WAAD,IADA,cAEA,KAAC,aAAD,wBAEA,MAAC,IAAD,yBACI,KAAC,IAAD,CAAM,MAAN,8BADJ,cAII,MAAC,IAAD,CAAM,IAAN,yBACI,MAAC,IAAD,CAAM,KAAN,yBAAY,kCAAZ,CAAoCf,OAAO,CAACiB,UAA5C,GADJ,cAEI,MAAC,IAAD,CAAM,KAAN,yBAAY,mCAAZ,CAAqCjB,OAAO,CAACkB,WAA7C,GAFJ,cAGI,MAAC,IAAD,CAAM,KAAN,yBAAY,kCAAZ,CAAoClB,OAAO,CAACmB,IAA5C,GAHJ,cAII,MAAC,IAAD,CAAM,KAAN,yBAAY,sCAAZ,CAAwCnB,OAAO,CAACoB,QAAhD,GAJJ,cAKI,MAAC,IAAD,CAAM,KAAN,yBAAY,sCAAZ,CAAwCpB,OAAO,CAACqB,QAAhD,GALJ,cAMI,MAAC,IAAD,CAAM,KAAN,yBAAY,qCAAZ,CAAuCrB,OAAO,CAACsB,MAA/C,GANJ,cAOI,MAAC,IAAD,CAAM,KAAN,yBAAY,2CAAZ,CAA6ChC,MAAM,CAACU,OAAO,CAACuB,KAAT,CAAN,CAAsBC,MAAtB,CAA6B,cAA7B,CAA7C,GAPJ,cASI,KAAC,GAAD,EAAK,OAAO,CAAET,QAAd,gCATJ,cAWI,MAAC,IAAD,EAAM,SAAS,CAAC,MAAhB,CAAuB,QAAQ,CAAEP,aAAjC,wBACI,MAAC,IAAD,CAAM,KAAN,yBACI,MAAC,SAAD,wCAAuB,2BAAvB,GADJ,cAEI,KAAC,IAAD,CAAM,OAAN,EAAc,WAAW,CAAC,gBAA1B,CAA2C,EAAE,CAAC,UAA9C,CAAyD,GAAG,CAAE,CAA9D,CAAiE,KAAK,CAAGZ,QAAzE,CAAmF,QAAQ,CAAK,kBAAC6B,CAAD,CAAO,CAAE5B,YAAY,CAAC4B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAZ,CAA8B,CAAvI,EAFJ,GADJ,cAKI,KAAC,IAAD,CAAM,KAAN,wBACI,KAAC,GAAD,EAAK,IAAI,CAAC,QAAV,CAAmB,SAAS,CAAC,wBAA7B,oBADJ,EALJ,GAXJ,GAJJ,GAFA,EAFA,GAFJ,CAsCH,CApFD,CAsFA,cAAehC,CAAAA,eAAf,CACA,GAAMiC,CAAAA,aAAa,CAAGrC,MAAM,CAACP,SAAD,CAAT,8KAAnB,CASA,GAAM6C,CAAAA,GAAG,CAAGtC,MAAM,CAACN,MAAD,CAAT,4JAAT,CAOA,GAAM6C,CAAAA,SAAS,CAAGvC,MAAM,CAACT,IAAI,CAACiD,KAAN,CAAT,iGAAf","sourcesContent":["import HeaderPages from '../header/Header_pages';\nimport {Card, Form,Container, Button} from 'react-bootstrap';\nimport axios from 'axios';\nimport {useEffect, useState} from 'react';\nimport {useParams} from 'react-router-dom';\nimport moment from 'moment';\nimport styled from 'styled-components';\nimport download from 'downloadjs';\nimport { API_URL } from '../../utils/constant';\nimport {useHistory} from 'react-router';\n\nconst Account_Manager = () =>{ \n\n    const [comments, set_comments] = useState(\"\")\n    const  { id } = useParams();\n    const history = useHistory();\n    const [details, setDetails] = useState([]);\n    // const [path, setPath] = useState(\"\");\n    console.log(\"Params \" , id);\n    useEffect (() =>{\n    axios.get(`${API_URL}/` + id + '/accountsrequest')\n    .then(\n        (res) => {\n            setDetails(res.data)\n            // setPath(res.data.path)\n            console.log(res.data) \n       \n        } \n    )\n    },[id])\n    \n    const SubmitComment = ()=>{\n        axios.post(`${API_URL}/submitaccounts`, { id : id, comment : comments }).then((res)=>{\n                if(res.data.code === 200)\n                { \n                    console.log('Comment Added')\n                    history.push('/managerdashboard')\n                }\n                else if(res.data.code === 404)\n                { \n                    window.flash('Failed to submit comment', 'danger')\n                    // console.log('Comment Added')\n                    // history.push('/managerdashboard')\n                }\n        })\n    }\n    \n\n    const Download = async ()=>{\n        await axios.get(`${API_URL}/${id}/download`, {\n            responseType: 'blob'\n          }).then((res)=>{\n            download(res.data, 'quotation', 'pdf');\n          })\n    }\n\n    \n    return(\n        \n        <>\n        <HeaderPages/>\n        <MainContainer>\n\n        <Card>\n            <Card.Header>\n                Request Details\n            </Card.Header>\n            <Card.Body>\n                <Card.Title><strong>Name: </strong>{details.R_Emp_Name}</Card.Title>\n                <Card.Title><strong>Email: </strong>{details.R_Emp_Email}</Card.Title>\n                <Card.Title><strong>Item: </strong>{details.Item}</Card.Title>\n                <Card.Title><strong>Duration: </strong>{details.Duration}</Card.Title>\n                <Card.Title><strong>Quantity: </strong>{details.Quantity}</Card.Title>\n                <Card.Title><strong>Reason : </strong>{details.Reason}</Card.Title>\n                <Card.Title><strong>Date Requested </strong>{moment(details.Added).format('Do MMMM YYYY')}</Card.Title>\n                \n                <Btn onClick={Download}>Download Quotation</Btn>\n                \n                <Form className=\"mt-4\" onSubmit={SubmitComment}>\n                    <Form.Group>\n                        <CardTitle>Add Comments<span>*</span></CardTitle>\n                        <Form.Control placeholder=\"Enter Comments\" as=\"textarea\" row={5} value ={comments} onChange = { (e) => { set_comments(e.target.value) }} ></Form.Control>\n                    </Form.Group>\n                    <Form.Group>\n                        <Btn type=\"submit\" className=\"btn btn-md float-right\"  >Submit</Btn>\n                    </Form.Group>\n                </Form>\n            </Card.Body>\n        </Card>\n        </MainContainer>\n        \n       </>\n        \n    );\n\n}\n\nexport default Account_Manager;\nconst MainContainer = styled(Container)`\n    width: 100%;\n    height: auto;\n    min-height: 100%;\n    min-height: 100vh;\n    margin-top:100px;\n`;\n\n\nconst Btn = styled(Button)`\n    background :#EFBB20;\n    border: none; \n    &:hover{\n    background: #0e8ccc;\n}`;\n\nconst CardTitle = styled(Card.Title)`\nspan{\n    color : red;\n}\n`;"]},"metadata":{},"sourceType":"module"}