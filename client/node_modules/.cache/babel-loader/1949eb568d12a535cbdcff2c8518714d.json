{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/amir/Desktop/New File/inventory_deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _defineProperty from\"/home/amir/Desktop/New File/inventory_deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/amir/Desktop/New File/inventory_deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/amir/Desktop/New File/inventory_deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2;import axios from'axios';import React,{useState,useEffect}from'react';import{Card}from'react-bootstrap';// import Authapi from '../Authapi'\nimport{useHistory}from'react-router';// import Cookies from 'js-cookie'\nimport styled from'styled-components';import{Button,Collapse,Form}from'react-bootstrap';import{API_URL}from'../../utils/constant';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UserInformation=function UserInformation(){var _useState=useState({name:\"\",username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),Credentials=_useState2[0],SetCredentials=_useState2[1];var _useState3=useState({emp_Name:\"\",designation:\"\",department:\"\"}),_useState4=_slicedToArray(_useState3,2),Profile=_useState4[0],setProfile=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),open=_useState6[0],setOpen=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),id=_useState8[0],Setid=_useState8[1];var history=useHistory();useEffect(function(){axios.get(\"\".concat(API_URL,\"/dashboard\"),{withCredentials:true}).then(function(res){if(res.data){console.log(res.data);var user=res.data;Setid(res.data.user._id);SetCredentials({name:res.data.user.Emp_Name,username:res.data.user.Username,password:res.data.user.Password});console.log(res.data.user);setProfile({emp_Name:user.user.Emp_Name,designation:user.user.Designation,department:user.department.Dept_Name});}else{history.push('/logout');}});},[history]);var onChangeHandle=function onChangeHandle(e){var value=e.target.value;console.log(value);SetCredentials(_objectSpread(_objectSpread({},Credentials),{},_defineProperty({},e.target.name,value)));};var onSubmit=function onSubmit(event){event.preventDefault();axios({method:\"POST\",data:{id:id,name:Credentials.name,username:Credentials.username,password:Credentials.password},withCredentials:true,url:\"\".concat(API_URL,\"/update_profile\")}).then(function(res){setProfile(_objectSpread(_objectSpread({},Profile),{},{emp_Name:Credentials.name}));setOpen(false);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Card1,{children:[/*#__PURE__*/_jsx(Card1.Header,{children:\"User Information\"}),/*#__PURE__*/_jsx(Card1.Body,{children:Profile&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Card1.Title,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"User:  \"}),Profile.emp_Name]}),/*#__PURE__*/_jsxs(Card1.Title,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Designation:\"}),\" \",Profile.designation]}),/*#__PURE__*/_jsxs(Card1.Title,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Department:\"}),\" \",Profile.department]}),/*#__PURE__*/_jsx(Btn,{className:\"mb-4\",onClick:function onClick(){return setOpen(!open);},\"aria-controls\":\"collapse_menu\",\"aria-expanded\":open,children:\"Profile\"}),/*#__PURE__*/_jsx(Collapse,{in:open,children:/*#__PURE__*/_jsx(\"div\",{id:\"collapse_menu\",children:/*#__PURE__*/_jsxs(Form,{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name :\"}),/*#__PURE__*/_jsx(Form.Control,{name:\"name\",onChange:onChangeHandle,value:Credentials.name})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Username :\"}),/*#__PURE__*/_jsx(Form.Control,{name:\"username\",onChange:onChangeHandle,value:Credentials.username})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password :\"}),/*#__PURE__*/_jsx(Form.Control,{name:\"password\",onChange:onChangeHandle,value:Credentials.password})]}),/*#__PURE__*/_jsx(Btn,{type:\"submit\",children:\"Update\"})]})})})]})})]})});};export default UserInformation;var Card1=styled(Card)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n\\n    width=25rem;\\n\\n\"])));var Btn=styled(Button)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    background :#EFBB20;\\n    border: none; \\n    &:hover{\\n    background: #0e8ccc;\\n}\"])));","map":{"version":3,"sources":["/home/amir/Desktop/New File/inventory_deploy/client/src/components/userInformation/User_information.js"],"names":["axios","React","useState","useEffect","Card","useHistory","styled","Button","Collapse","Form","API_URL","UserInformation","name","username","password","Credentials","SetCredentials","emp_Name","designation","department","Profile","setProfile","open","setOpen","id","Setid","history","get","withCredentials","then","res","data","console","log","user","_id","Emp_Name","Username","Password","Designation","Dept_Name","push","onChangeHandle","e","value","target","onSubmit","event","preventDefault","method","url","Card1","Btn"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, { useState, useEffect } from 'react';\nimport {Card} from 'react-bootstrap';\n// import Authapi from '../Authapi'\nimport { useHistory } from 'react-router';\n// import Cookies from 'js-cookie'\nimport styled from 'styled-components';\nimport {Button, Collapse, Form} from 'react-bootstrap';\nimport {API_URL} from '../../utils/constant'\nconst UserInformation = () => {\n   \n    const [Credentials, SetCredentials] = useState({\n        name : \"\",\n        username : \"\",\n        password : \"\"\n    });\n\n    const [Profile, setProfile] = useState({\n        emp_Name: \"\",\n        designation: \"\",\n        department: \"\"\n    })\n    const [open, setOpen] = useState(false)\n    const [id, Setid] = useState({})\n    const history = useHistory();\n\n    useEffect(() =>{\n     \n\n        axios.get(`${API_URL}/dashboard`, {\n            withCredentials: true\n        }).then((res)=>{\n            if(res.data)\n            { \n                console.log(res.data)\n                const user = res.data;\n                Setid(res.data.user._id);\n                SetCredentials({\n                    name : res.data.user.Emp_Name,\n                    username : res.data.user.Username,\n                    password : res.data.user.Password\n                })\n                console.log(res.data.user);\n                setProfile({\n                    emp_Name: user.user.Emp_Name,\n                    designation: user.user.Designation,\n                    department: user.department.Dept_Name\n                })\n            }\n            else\n            { \n                history.push('/logout')\n            }\n            \n        })\n\n    },[history])\n    const onChangeHandle = (e) => {\n        const value = e.target.value;\n        console.log(value);\n        SetCredentials({\n            ...Credentials,\n            [e.target.name] : value\n       });\n       \n    }\n    const onSubmit = (event) => {   \n        \n        event.preventDefault()\n        axios({\n            method: \"POST\",\n            data: {\n                id : id,\n                name: Credentials.name,\n                username: Credentials.username,\n                password: Credentials.password\n            },\n            withCredentials: true,\n            url: `${API_URL}/update_profile`,\n          }).then((res)=>{\n            setProfile({\n                ...Profile,\n                emp_Name: Credentials.name,\n            })\n            setOpen(false)\n        })\n        };\n    \n\n    return(  \n    <>\n    \n\n\n    <Card1>\n        <Card1.Header>User Information</Card1.Header>\n            <Card1.Body>\n\n                { Profile &&\n                <>\n                    <Card1.Title><strong>User:  </strong>{Profile.emp_Name}</Card1.Title>\n                    <Card1.Title><strong>Designation:</strong> {Profile.designation}</Card1.Title>  \n                    <Card1.Title><strong>Department:</strong> {Profile.department}</Card1.Title>  \n                    <Btn\n                        className=\"mb-4\"\n                        onClick={() => setOpen(!open)}\n                        aria-controls=\"collapse_menu\"\n                        aria-expanded={open}\n                    >\n                        Profile\n                    </Btn>\n\n                    <Collapse in={open}>\n                        \n                    \n                        <div id=\"collapse_menu\">\n                        <Form onSubmit={onSubmit}>\n                        <Form.Group>\n                             <Form.Label>Name :</Form.Label>\n                             <Form.Control name = \"name\" onChange={onChangeHandle} value={Credentials.name}/>\n                         </Form.Group>\n                        \n                        <Form.Group>\n                             <Form.Label>Username :</Form.Label>\n                             <Form.Control name = \"username\" onChange={onChangeHandle} value={Credentials.username} />\n                         </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Password :</Form.Label>\n                            <Form.Control name = \"password\" onChange={onChangeHandle} value={Credentials.password} />\n                        </Form.Group>\n                        <Btn type = \"submit\">Update</Btn> \n                        </Form>\n                        </div>\n                    </Collapse>\n    \n                </>\n                }\n                \n            </Card1.Body>\n    </Card1>\n             \n           \n\n</>        \n)\n    \n\n};\n\nexport default UserInformation;\nconst Card1 = styled(Card)`\n\n    width=25rem;\n\n`;\n\nconst Btn = styled(Button)`\n    background :#EFBB20;\n    border: none; \n    &:hover{\n    background: #0e8ccc;\n}`;\n"]},"metadata":{},"sourceType":"module"}