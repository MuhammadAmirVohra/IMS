{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/amir/Desktop/New File/inventory_deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _regeneratorRuntime from\"/home/amir/Desktop/New File/inventory_deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/amir/Desktop/New File/inventory_deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/amir/Desktop/New File/inventory_deploy/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2,_templateObject3;import HeaderPages from'../header/Header_pages';import{Card,Form,Container,Button}from'react-bootstrap';import axios from'axios';import{useEffect,useState}from'react';import{useParams}from'react-router-dom';import moment from'moment';import styled from'styled-components';import{API_URL}from'../../utils/constant';import download from'downloadjs';import{useHistory}from'react-router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ManagerAdmin=function ManagerAdmin(){var history=useHistory();var _useParams=useParams(),id=_useParams.id;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),admin_comment=_useState2[0],set_admin=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),request=_useState4[0],set_request=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),comment=_useState6[0],set_comment=_useState6[1];console.log(\"Params \",id);useEffect(function(){axios.get(\"\".concat(API_URL,\"/\")+id+'/adminrequest').then(function(res){// setDetails(res.data)\nset_request(res.data.request);set_comment(res.data.comment);console.log(res.data);});},[id]);var SubmitComment=function SubmitComment(){axios.post(\"\".concat(API_URL,\"/submitadmin\"),{id:id,comment:admin_comment}).then(function(res){if(res.status===200){console.log('Comment Added');history.push('/managerdashboard');}});};var Download=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"\".concat(API_URL,\"/\").concat(id,\"/download\"),{responseType:'blob'}).then(function(res){download(res.data,'quotation','pdf');});case 2:case\"end\":return _context.stop();}}},_callee);}));return function Download(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(HeaderPages,{}),/*#__PURE__*/_jsx(MainContainer,{children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:\"Request Details\"}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsxs(Card.Title,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name: \"}),request.R_Emp_Name]}),/*#__PURE__*/_jsxs(Card.Title,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email: \"}),request.R_Emp_Email]}),/*#__PURE__*/_jsxs(Card.Title,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Item: \"}),request.Item]}),/*#__PURE__*/_jsxs(Card.Title,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Duration: \"}),request.Duration]}),/*#__PURE__*/_jsxs(Card.Title,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Quantity: \"}),request.Quantity]}),/*#__PURE__*/_jsxs(Card.Title,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Reason : \"}),request.Reason]}),/*#__PURE__*/_jsxs(Card.Title,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date Requested \"}),moment(request.Added).format('Do MMMM YYYY')]}),/*#__PURE__*/_jsxs(Card.Title,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Accounts Manager Comments : \"}),comment.Comment_Accounts]}),/*#__PURE__*/_jsx(Btn,{onClick:Download,children:\"Download Quotation\"}),/*#__PURE__*/_jsxs(Form,{className:\"mt-4\",onSubmit:SubmitComment,children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(CardTitle,{children:[\"Add Comments\",/*#__PURE__*/_jsx(\"span\",{children:\"*\"})]}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",row:5,value:admin_comment,onChange:function onChange(e){set_admin(e.target.value);}})]}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Btn,{type:\"submit\",className:\"btn btn-md float-right\",children:\"Submit\"})})]})]})]})})]});};export default ManagerAdmin;var MainContainer=styled(Container)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    width: 100%;\\n    height: auto;\\n    min-height: 100%;\\n    min-height: 100vh;\\n    margin-top:100px;\\n\"])));var Btn=styled(Button)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    background :#EFBB20;\\n    border: none; \\n    &:hover{\\n    background: #0e8ccc;\\n}\"])));var CardTitle=styled(Card.Title)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\nspan{\\n    color : red;\\n}\\n\"])));","map":{"version":3,"sources":["/home/amir/Desktop/New File/inventory_deploy/client/src/components/RequestDetails/Manager_admin.js"],"names":["HeaderPages","Card","Form","Container","Button","axios","useEffect","useState","useParams","moment","styled","API_URL","download","useHistory","ManagerAdmin","history","id","admin_comment","set_admin","request","set_request","comment","set_comment","console","log","get","then","res","data","SubmitComment","post","status","push","Download","responseType","R_Emp_Name","R_Emp_Email","Item","Duration","Quantity","Reason","Added","format","Comment_Accounts","e","target","value","MainContainer","Btn","CardTitle","Title"],"mappings":"2uBAAA,MAAOA,CAAAA,WAAP,KAAwB,wBAAxB,CACA,OAAQC,IAAR,CAAcC,IAAd,CAAmBC,SAAnB,CAA8BC,MAA9B,KAA2C,iBAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,SAAR,CAAmBC,QAAnB,KAAkC,OAAlC,CACA,OAAQC,SAAR,KAAwB,kBAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,OAAT,KAAwB,sBAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,OAAQC,UAAR,KAAyB,cAAzB,C,6IAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAK,CAEtB,GAAMC,CAAAA,OAAO,CAAGF,UAAU,EAA1B,CACA,eAAeL,SAAS,EAAxB,CAAQQ,EAAR,YAAQA,EAAR,CACA,cAAmCT,QAAQ,CAAC,EAAD,CAA3C,wCAAOU,aAAP,eAAsBC,SAAtB,eACA,eAA+BX,QAAQ,CAAC,EAAD,CAAvC,yCAAOY,OAAP,eAAgBC,WAAhB,eACA,eAA+Bb,QAAQ,CAAC,EAAD,CAAvC,yCAAOc,OAAP,eAAgBC,WAAhB,eAEAC,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAwBR,EAAxB,EAEAV,SAAS,CAAE,UAAK,CACZD,KAAK,CAACoB,GAAN,CAAU,UAAGd,OAAH,MAAgBK,EAAhB,CAAqB,eAA/B,EACCU,IADD,CAEI,SAACC,GAAD,CAAS,CACL;AACAP,WAAW,CAACO,GAAG,CAACC,IAAJ,CAAST,OAAV,CAAX,CACAG,WAAW,CAACK,GAAG,CAACC,IAAJ,CAASP,OAAV,CAAX,CACAE,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACC,IAAhB,EAEH,CARL,EAUH,CAXQ,CAWP,CAACZ,EAAD,CAXO,CAAT,CAaA,GAAMa,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAI,CACtBxB,KAAK,CAACyB,IAAN,WAAcnB,OAAd,iBAAqC,CAAEK,EAAE,CAAGA,EAAP,CAAWK,OAAO,CAAGJ,aAArB,CAArC,EAA2ES,IAA3E,CAAgF,SAACC,GAAD,CAAO,CAC/E,GAAGA,GAAG,CAACI,MAAJ,GAAe,GAAlB,CACA,CACIR,OAAO,CAACC,GAAR,CAAY,eAAZ,EACAT,OAAO,CAACiB,IAAR,CAAa,mBAAb,EACH,CACR,CAND,EAOH,CARD,CAaA,GAAMC,CAAAA,QAAQ,0FAAG,yJACP5B,CAAAA,KAAK,CAACoB,GAAN,WAAad,OAAb,aAAwBK,EAAxB,cAAuC,CACzCkB,YAAY,CAAE,MAD2B,CAAvC,EAEDR,IAFC,CAEI,SAACC,GAAD,CAAO,CACbf,QAAQ,CAACe,GAAG,CAACC,IAAL,CAAW,WAAX,CAAwB,KAAxB,CAAR,CACD,CAJG,CADO,uDAAH,kBAARK,CAAAA,QAAQ,0CAAd,CAQA,mBAEI,wCACA,KAAC,WAAD,IADA,cAEA,KAAC,aAAD,wBAEA,MAAC,IAAD,yBACI,KAAC,IAAD,CAAM,MAAN,8BADJ,cAII,MAAC,IAAD,CAAM,IAAN,yBACI,MAAC,IAAD,CAAM,KAAN,yBAAY,kCAAZ,CAAoCd,OAAO,CAACgB,UAA5C,GADJ,cAEI,MAAC,IAAD,CAAM,KAAN,yBAAY,mCAAZ,CAAqChB,OAAO,CAACiB,WAA7C,GAFJ,cAGI,MAAC,IAAD,CAAM,KAAN,yBAAY,kCAAZ,CAAoCjB,OAAO,CAACkB,IAA5C,GAHJ,cAII,MAAC,IAAD,CAAM,KAAN,yBAAY,sCAAZ,CAAwClB,OAAO,CAACmB,QAAhD,GAJJ,cAKI,MAAC,IAAD,CAAM,KAAN,yBAAY,sCAAZ,CAAwCnB,OAAO,CAACoB,QAAhD,GALJ,cAMI,MAAC,IAAD,CAAM,KAAN,yBAAY,qCAAZ,CAAuCpB,OAAO,CAACqB,MAA/C,GANJ,cAOI,MAAC,IAAD,CAAM,KAAN,yBAAY,2CAAZ,CAA6C/B,MAAM,CAACU,OAAO,CAACsB,KAAT,CAAN,CAAsBC,MAAtB,CAA6B,cAA7B,CAA7C,GAPJ,cAQI,MAAC,IAAD,CAAM,KAAN,yBAAY,wDAAZ,CAA0DrB,OAAO,CAACsB,gBAAlE,GARJ,cASI,KAAC,GAAD,EAAK,OAAO,CAAEV,QAAd,gCATJ,cAUI,MAAC,IAAD,EAAM,SAAS,CAAC,MAAhB,CAAuB,QAAQ,CAAEJ,aAAjC,wBACI,MAAC,IAAD,CAAM,KAAN,yBACI,MAAC,SAAD,wCAAuB,2BAAvB,GADJ,cAEI,KAAC,IAAD,CAAM,OAAN,EAAc,EAAE,CAAC,UAAjB,CAA4B,GAAG,CAAE,CAAjC,CAAoC,KAAK,CAAIZ,aAA7C,CAA4D,QAAQ,CAAI,kBAAC2B,CAAD,CAAO,CAAE1B,SAAS,CAAC0B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAT,CAA2B,CAA5G,EAFJ,GADJ,cAKI,KAAC,IAAD,CAAM,KAAN,wBACI,KAAC,GAAD,EAAK,IAAI,CAAC,QAAV,CAAmB,SAAS,CAAC,wBAA7B,oBADJ,EALJ,GAVJ,GAJJ,GAFA,EAFA,GAFJ,CAqCH,CAjFD,CAmFA,cAAehC,CAAAA,YAAf,CACA,GAAMiC,CAAAA,aAAa,CAAGrC,MAAM,CAACP,SAAD,CAAT,8KAAnB,CASA,GAAM6C,CAAAA,GAAG,CAAGtC,MAAM,CAACN,MAAD,CAAT,4JAAT,CAOA,GAAM6C,CAAAA,SAAS,CAAGvC,MAAM,CAACT,IAAI,CAACiD,KAAN,CAAT,iGAAf","sourcesContent":["import HeaderPages from '../header/Header_pages';\nimport {Card, Form,Container, Button} from 'react-bootstrap';\nimport axios from 'axios';\nimport {useEffect, useState} from 'react';\nimport {useParams} from 'react-router-dom';\nimport moment from 'moment';\nimport styled from 'styled-components';\nimport { API_URL } from '../../utils/constant';\nimport download from 'downloadjs';\nimport {useHistory} from 'react-router';\n\nconst ManagerAdmin = () =>{ \n\n    const history = useHistory();\n    const { id } = useParams();\n    const [admin_comment, set_admin] = useState(\"\");\n    const [request, set_request] = useState({});\n    const [comment, set_comment] = useState({});\n\n    console.log(\"Params \" , id);\n    \n    useEffect (() =>{\n        axios.get(`${API_URL}/` + id + '/adminrequest')\n        .then(\n            (res) => {\n                // setDetails(res.data)\n                set_request(res.data.request)\n                set_comment(res.data.comment)\n                console.log(res.data) \n        \n            } \n        )\n    },[id])\n    \n    const SubmitComment = ()=>{\n        axios.post(`${API_URL}/submitadmin`, { id : id, comment : admin_comment }).then((res)=>{\n                if(res.status === 200)\n                { \n                    console.log('Comment Added');\n                    history.push('/managerdashboard')\n                }\n        })\n    }\n    \n\n\n\n    const Download = async ()=>{\n        await axios.get(`${API_URL}/${id}/download`, {\n            responseType: 'blob'\n          }).then((res)=>{\n            download(res.data, 'quotation', 'pdf');\n          })\n    }\n\n    return(\n        \n        <>\n        <HeaderPages/>\n        <MainContainer>\n\n        <Card>\n            <Card.Header>\n                Request Details\n            </Card.Header>\n            <Card.Body>\n                <Card.Title><strong>Name: </strong>{request.R_Emp_Name}</Card.Title>\n                <Card.Title><strong>Email: </strong>{request.R_Emp_Email}</Card.Title>\n                <Card.Title><strong>Item: </strong>{request.Item}</Card.Title>\n                <Card.Title><strong>Duration: </strong>{request.Duration}</Card.Title>\n                <Card.Title><strong>Quantity: </strong>{request.Quantity}</Card.Title>\n                <Card.Title><strong>Reason : </strong>{request.Reason}</Card.Title>\n                <Card.Title><strong>Date Requested </strong>{moment(request.Added).format('Do MMMM YYYY')}</Card.Title>\n                <Card.Title><strong>Accounts Manager Comments : </strong>{comment.Comment_Accounts}</Card.Title>\n                <Btn onClick={Download}>Download Quotation</Btn>\n                <Form className=\"mt-4\" onSubmit={SubmitComment}>\n                    <Form.Group>\n                        <CardTitle>Add Comments<span>*</span></CardTitle>\n                        <Form.Control as=\"textarea\" row={5} value = {admin_comment} onChange = {(e) => { set_admin(e.target.value) }}></Form.Control>\n                    </Form.Group>\n                    <Form.Group>\n                        <Btn type=\"submit\" className=\"btn btn-md float-right\"  >Submit</Btn>\n                    </Form.Group>\n                </Form>\n            </Card.Body>\n        </Card>\n        </MainContainer>\n        \n       </>\n        \n    );\n\n}\n\nexport default ManagerAdmin;\nconst MainContainer = styled(Container)`\n    width: 100%;\n    height: auto;\n    min-height: 100%;\n    min-height: 100vh;\n    margin-top:100px;\n`;\n\n\nconst Btn = styled(Button)`\n    background :#EFBB20;\n    border: none; \n    &:hover{\n    background: #0e8ccc;\n}`;\n\nconst CardTitle = styled(Card.Title)`\nspan{\n    color : red;\n}\n`;\n\n"]},"metadata":{},"sourceType":"module"}