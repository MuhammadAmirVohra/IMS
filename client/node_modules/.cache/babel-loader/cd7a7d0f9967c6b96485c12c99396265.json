{"ast":null,"code":"var _jsxFileName = \"/home/amir/Desktop/New File/IMS/client/src/App.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport Login from './components/login/Login_Form';\nimport React, { useState } from 'react';\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport { createGlobalStyle } from \"styled-components\";\nimport Dashboard from './components/dashboard/Dashboard';\nimport LogOut from './components/logout/Logout'; // import SepModal from './components/table/SepModal'\n// import Modal from './components/modal/modal'\n\nimport AuthApi from './components/Authapi'; // import Cookies from 'js-cookie';\n\nimport HODDashboard from './components/hod_dashboard/Hod_dashboard'; // import Request_Form from './components/Request_Form/Request_Form'\n\nimport PurchaseDashboard from './components/purchaseDashboard/Purchase_dashboard'; // import axios from 'axios'\n\nimport MDashboard from './components/managerDashboard/Manager_dashboard';\nimport AccountsManagerDetails from './components/RequestDetails/Accounts_manager';\nimport ManagerAdminDetails from './components/RequestDetails/Manager_admin';\nimport DirectorDetails from './components/RequestDetails/Director';\nimport StoreDashboard from './components/StoreDashboard/Store_Dashboard';\nimport Inventory from './components/inventory/Inventory';\nimport RecieveItems from './components/recieve_items/Recieve_Items';\nimport IssueItems from './components/issue/Issue_items';\nimport Cookie from 'universal-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst GlobalStyle = createGlobalStyle`\n@import url('https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&display=swap');\n    *{\n        font-family: 'Merriweather', sans-serif;\n   }\n    \n`;\n_c = GlobalStyle;\n\nfunction App() {\n  _s();\n\n  const cookie = Cookie();\n  const [token, settoken] = useState(false);\n  const [UserRole, setRole] = useState(false);\n  console.log(token);\n\n  function CheckUser() {\n    // await  axios({\n    //     method: \"POST\",\n    //     withCredentials: true,\n    //     url: \"http://localhost:5000/loggedin_user\",\n    //   }).then((res) => {\n    //     if(res.data)\n    //     {\n    //         if(res.data.code === 404)\n    //         {\n    // settoken(false);\n    // setRole(\"\");\n    //         }\n    //         else\n    //         {\n    //             settoken(true);\n    //             setRole(res.data.user.user.Designation);\n    //         }\n    //     }\n    // });\n    // let tok = localStorage.getItem('token');\n    let tok = cookie.get('token');\n\n    if (tok) {\n      console.log('token found');\n      settoken(true);\n      u = cookie.get('user'); // setRole(localStorage.getItem('user'));\n\n      setRole(u);\n    } else {\n      console.log('No token found');\n      settoken(false);\n      setRole(\"\");\n    }\n  }\n\n  React.useEffect(() => {\n    CheckUser(); // const user  = Cookies.get('user');\n    // if (user) {\n    //     settoken(true);\n    // }\n    // else\n    // {\n    //     settoken(false);\n    // }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(GlobalStyle, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(AuthApi.Provider, {\n      value: {\n        token,\n        settoken,\n        UserRole,\n        setRole,\n        CheckUser\n      },\n      children: /*#__PURE__*/_jsxDEV(BrowserRouter, {\n        children: /*#__PURE__*/_jsxDEV(Routes, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(App, \"JLIuqv/wOqShY8Bf2m33ke3KAfI=\");\n\n_c2 = App;\n\nconst Routes = () => {\n  _s2();\n\n  const Auth = React.useContext(AuthApi);\n  return /*#__PURE__*/_jsxDEV(Switch, {\n    children: [/*#__PURE__*/_jsxDEV(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => {\n        // let tok = localStorage.getItem('token');\n        let tok = cookie.get('token');\n\n        if (tok) {\n          console.log('token found');\n          Auth.settoken(true); // Auth.setRole(localStorage.getItem('user'));\n\n          Auth.setRole(cookie.get('user'));\n        } else {\n          console.log('No token found');\n          Auth.settoken(false);\n          Auth.setRole(\"\");\n        }\n\n        console.log('Auth Token ', Auth.token);\n        console.log('Auth User Role ', Auth.userRole); // Auth.token === null ? (<Login />) :  <Redirect to=\"/dashboard\"/>\n\n        if (Auth.token === false) {\n          console.log(\"here\");\n          return /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 32\n          }, this);\n        } else if (Auth.token !== false && Auth.UserRole === 'General') {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 32\n          }, this);\n        } else if (Auth.token !== false && Auth.UserRole === 'Purchase') {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/purchase\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 32\n          }, this);\n        } else if (Auth.token !== false && Auth.UserRole === 'Head') {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/hoddashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 32\n          }, this);\n        } else if (Auth.token !== false && (Auth.UserRole === 'Accounts' || Auth.UserRole === \"Admin\" || Auth.UserRole === \"Director\")) {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/managerdashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 32\n          }, this);\n        } else if (Auth.token !== false && Auth.UserRole === 'Store') {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/storedashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 32\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/inventory\",\n      render: () => {\n        if (Auth.token !== false && Auth.UserRole === \"Store\") {\n          return /*#__PURE__*/_jsxDEV(Inventory, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 30\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            exact: true,\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 30\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/:id/issuerequest\",\n      render: () => {\n        if (Auth.token !== false && Auth.UserRole === \"Store\") {\n          return /*#__PURE__*/_jsxDEV(IssueItems, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 30\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            exact: true,\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 30\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/:id/accountsrequest\",\n      render: () => {\n        if (Auth.token !== false && Auth.UserRole === \"Accounts\") {\n          return /*#__PURE__*/_jsxDEV(AccountsManagerDetails, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 30\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            exact: true,\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 30\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/recieveitems\",\n      render: () => {\n        if (Auth.token !== false && Auth.UserRole === \"Store\") {\n          return /*#__PURE__*/_jsxDEV(RecieveItems, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 30\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            exact: true,\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 30\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/:id/adminrequest\",\n      render: () => {\n        if (Auth.token !== false && Auth.UserRole === \"Admin\") {\n          return /*#__PURE__*/_jsxDEV(ManagerAdminDetails, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 30\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            exact: true,\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 30\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/:id/directorrequest\",\n      render: () => {\n        if (Auth.token !== false && Auth.UserRole === \"Director\") {\n          return /*#__PURE__*/_jsxDEV(DirectorDetails, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 30\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            exact: true,\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 30\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/dashboard\",\n      render: () => {\n        console.log('Auth Token ', Auth.token);\n        console.log('Auth User Role ', Auth.userRole);\n\n        if (Auth.token !== false && (Auth.UserRole === 'General' || Auth.UserRole === 'Head')) {\n          return /*#__PURE__*/_jsxDEV(Dashboard, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 34\n          }, this);\n        } else {\n          console.log('here');\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            exact: true,\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 32\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/hoddashboard\",\n      render: () => {\n        if (Auth.token !== false && Auth.UserRole === 'Head') {\n          return /*#__PURE__*/_jsxDEV(HODDashboard, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 34\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 32\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/logout\",\n      render: () => {\n        if (Auth.token !== false) {\n          return /*#__PURE__*/_jsxDEV(LogOut, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 34\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 32\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/purchase\",\n      render: () => {\n        if (Auth.token !== false && Auth.UserRole === 'Purchase') {\n          return /*#__PURE__*/_jsxDEV(PurchaseDashboard, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 34\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 32\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/managerdashboard\",\n      render: () => {\n        if (Auth.token !== false && (Auth.UserRole === 'Admin' || Auth.UserRole === \"Accounts\" || Auth.UserRole === \"Director\")) {\n          return /*#__PURE__*/_jsxDEV(MDashboard, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 34\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 32\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/storedashboard\",\n      render: () => {\n        if (Auth.token !== false && Auth.UserRole === 'Store') {\n          return /*#__PURE__*/_jsxDEV(StoreDashboard, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 33\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(Redirect, {\n            to: \"/\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 31\n          }, this);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 16\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 12\n  }, this);\n}; // const ProtectRoute = ({token, comp: Component, ...rest})=>{\n//     // const Auth = React.useContext(AuthApi);\n//     return (\n//         <Route \n//         {...rest}\n//         render={() =>{ \n//          if (token)\n//             {\n//                 console.log(\"Token is true\")\n//                 return <Component />\n//             }\n//         else\n//             {\n//                 console.log(\"Token is not true\")\n//                 return (<Redirect to='/' exact/>)\n//             }    \n//         }\n//     }\n//         />\n//     )\n// }\n// const ProtectLogin = ({token, components: Component, ...rest})=>{\n//     return (\n//         <Route \n//         {...rest}\n//         render={() => token ? (\n//             <Redirect to='/dashboard'/>    \n//         ):\n//         (\n//             <Component />\n//         )\n//     }\n//         />\n//     )\n// }\n\n\n_s2(Routes, \"e+B7P7jnYCaOJfuwMJd2WG+FpFM=\");\n\n_c3 = Routes;\nexport default App;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"GlobalStyle\");\n$RefreshReg$(_c2, \"App\");\n$RefreshReg$(_c3, \"Routes\");","map":{"version":3,"sources":["/home/amir/Desktop/New File/IMS/client/src/App.js"],"names":["Login","React","useState","BrowserRouter","Switch","Route","Redirect","createGlobalStyle","Dashboard","LogOut","AuthApi","HODDashboard","PurchaseDashboard","MDashboard","AccountsManagerDetails","ManagerAdminDetails","DirectorDetails","StoreDashboard","Inventory","RecieveItems","IssueItems","Cookie","GlobalStyle","App","cookie","token","settoken","UserRole","setRole","console","log","CheckUser","tok","get","u","useEffect","Routes","Auth","useContext","userRole"],"mappings":"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","sourcesContent":["import Login from './components/login/Login_Form';\nimport React, { useState } from 'react';\nimport {BrowserRouter, Switch, Route, Redirect} from 'react-router-dom';\nimport { createGlobalStyle } from \"styled-components\";\nimport Dashboard from './components/dashboard/Dashboard';\nimport LogOut from './components/logout/Logout'\n// import SepModal from './components/table/SepModal'\n// import Modal from './components/modal/modal'\nimport AuthApi from './components/Authapi'\n// import Cookies from 'js-cookie';\nimport HODDashboard from './components/hod_dashboard/Hod_dashboard'\n// import Request_Form from './components/Request_Form/Request_Form'\nimport PurchaseDashboard from './components/purchaseDashboard/Purchase_dashboard'\n// import axios from 'axios'\nimport MDashboard from './components/managerDashboard/Manager_dashboard'\nimport AccountsManagerDetails from './components/RequestDetails/Accounts_manager'\nimport ManagerAdminDetails from './components/RequestDetails/Manager_admin'\nimport DirectorDetails from './components/RequestDetails/Director'\nimport StoreDashboard from './components/StoreDashboard/Store_Dashboard'\nimport Inventory from './components/inventory/Inventory'\nimport RecieveItems from './components/recieve_items/Recieve_Items'\nimport IssueItems from './components/issue/Issue_items'\nimport Cookie from 'universal-cookie'\nconst GlobalStyle = createGlobalStyle`\n@import url('https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&display=swap');\n    *{\n        font-family: 'Merriweather', sans-serif;\n   }\n    \n`; \nfunction App() \n{\n    const cookie = Cookie()\n    const [token , settoken] = useState(false)\n    const [UserRole , setRole] = useState(false)\n\n    console.log(token)\n\n    function CheckUser()\n    {\n        // await  axios({\n        //     method: \"POST\",\n        //     withCredentials: true,\n        //     url: \"http://localhost:5000/loggedin_user\",\n        //   }).then((res) => {\n\n        //     if(res.data)\n        //     {\n        //         if(res.data.code === 404)\n        //         {\n                    // settoken(false);\n                    // setRole(\"\");\n        //         }\n        //         else\n        //         {\n        //             settoken(true);\n        //             setRole(res.data.user.user.Designation);\n        //         }\n        //     }\n            \n\n        // });\n\n            \n        // let tok = localStorage.getItem('token');\n        let tok = cookie.get('token');\n\n        if (tok) {\n\n            console.log('token found');\n            settoken(true); \n            u = cookie.get('user');\n            // setRole(localStorage.getItem('user'));\n            setRole(u);\n        }\n        else\n        {\n            console.log('No token found');\n            settoken(false); setRole(\"\");\n        }\n\n\n\n\n\n\n    }\n\n\n\n    React.useEffect(()=> {\n        \n        CheckUser();\n\n        \n        // const user  = Cookies.get('user');\n        // if (user) {\n        //     settoken(true);\n        // }\n        // else\n        // {\n        //     settoken(false);\n        // }\n    },[])\n\n        return ( \n        <>\n        <GlobalStyle/>\n            <AuthApi.Provider value = {{token, settoken, UserRole, setRole, CheckUser}}>\n            <BrowserRouter>\n                <Routes />\n            </BrowserRouter>   \n            </AuthApi.Provider>    \n        </>\n    );\n}\n\nconst Routes = () =>{\n    const Auth = React.useContext(AuthApi);\n    return(         \n           \n           <Switch>\n                <Route exact path=\"/\" render={() => {\n                    // let tok = localStorage.getItem('token');\n                    let tok = cookie.get('token');\n                    if (tok) {\n            \n                        console.log('token found');\n                        Auth.settoken(true); \n                        // Auth.setRole(localStorage.getItem('user'));\n                        Auth.setRole(cookie.get('user'));\n\n                    }\n                    else\n                    {\n                        console.log('No token found');\n                        Auth.settoken(false); Auth.setRole(\"\");\n                    }\n            \n            \n                    console.log('Auth Token ', Auth.token);\n                    console.log('Auth User Role ', Auth.userRole);\n\n                    // Auth.token === null ? (<Login />) :  <Redirect to=\"/dashboard\"/>\n                        \n\n                    if (Auth.token === false)   \n                    {\n                        console.log(\"here\") ;\n                        return <Login /> \n                    }\n                    else if(Auth.token !== false && Auth.UserRole === 'General')   \n                    {\n                        return <Redirect to=\"/dashboard\"/>\n                    }\n                    else if(Auth.token !== false && Auth.UserRole === 'Purchase')   \n                    {\n                        return <Redirect to=\"/purchase\"/>\n                    }\n                    else if(Auth.token !== false && Auth.UserRole === 'Head')   \n                    {\n                        return <Redirect to=\"/hoddashboard\"/>\n                    }\n                    else if(Auth.token !== false && (Auth.UserRole === 'Accounts' || Auth.UserRole === \"Admin\" || Auth.UserRole === \"Director\") )\n                    {\n                        return <Redirect to=\"/managerdashboard\"/>\n                    }\n                    else if(Auth.token !== false && Auth.UserRole === 'Store'  )\n                    {\n                        return <Redirect to=\"/storedashboard\"/>\n                    }\n                    \n                    \n                    \n                       \n                       \n                }}>\n\n\n                    \n                </Route>  \n                {/* <ProtectLogin path = '/' exact components = {Login} token = {Auth.token} /> */}\n\n                <Route path =\"/inventory\"\n                render={() => {\n                    if (Auth.token !== false && (Auth.UserRole === \"Store\"))\n                    { return <Inventory/>}\n                    else\n                    { return <Redirect exact to=\"/\" ></Redirect>}\n\n\n                }}>\n                </Route>\n                {/* <Route path =\"/:itemName/issuerequest\"\n                render={() => {\n                    if (Auth.token !== false && (Auth.UserRole === \"Store\"))\n                    { return <IssueItems/>}\n                    else\n                    { return <Redirect exact to=\"/\" ></Redirect>}\n\n\n                }}>\n                </Route> */}\n                <Route path =\"/:id/issuerequest\"\n                render={() => {\n                    if (Auth.token !== false && (Auth.UserRole === \"Store\"))\n                    { return <IssueItems/>}\n                    else\n                    { return <Redirect exact to=\"/\" ></Redirect>}\n\n\n                }}>\n                </Route>\n\n                <Route path =\"/:id/accountsrequest\"\n                render={() => {\n                    if (Auth.token !== false && (Auth.UserRole === \"Accounts\"))\n                    { return <AccountsManagerDetails/>}\n                    else\n                    { return <Redirect exact to=\"/\" ></Redirect>}\n\n\n                }}>\n                </Route>\n\n                <Route path =\"/recieveitems\"\n                render={() => {\n                    if (Auth.token !== false && (Auth.UserRole === \"Store\"))\n                    { return <RecieveItems/>}\n                    else\n                    { return <Redirect exact to=\"/\" ></Redirect>}\n\n\n                }}>\n                </Route>\n                <Route path =\"/:id/adminrequest\"\n                render={() => {\n                    if (Auth.token !== false && (Auth.UserRole === \"Admin\"))\n                    { return <ManagerAdminDetails/>}\n                    else\n                    { return <Redirect exact to=\"/\" ></Redirect>}\n\n\n                }}> \n\n                </Route>\n                \n                <Route path =\"/:id/directorrequest\"\n                render={() => {\n                    if (Auth.token !== false && (Auth.UserRole === \"Director\"))\n                    { return <DirectorDetails/>}\n                    else\n                    { return <Redirect exact to=\"/\" ></Redirect>}\n\n\n                }}> \n\n                </Route>\n                \n                <Route  path=\"/dashboard\" \n                render={() => {\n                    console.log('Auth Token ', Auth.token);\n                    console.log('Auth User Role ', Auth.userRole);\n                    if (Auth.token !== false && (Auth.UserRole === 'General' || Auth.UserRole === 'Head'))   \n                        { return <Dashboard /> }\n                    else    \n                    {\n                        console.log('here');\n                        return <Redirect exact to=\"/\" />\n                    }\n                       \n                       \n                }}>\n                </Route>\n                {/* <ProtectRoute path = '/dashboard' exact comp = {Dashboard} token = {Auth.token} /> */}\n\n                <Route  path=\"/hoddashboard\" \n                render={() => {\n                    if (Auth.token !== false && (Auth.UserRole === 'Head'))   \n                        { return <HODDashboard/> }\n                    else    \n                    {\n                        return <Redirect to=\"/\"/>\n                    }\n                       \n                       \n                }}>\n                </Route>\n                    \n                <Route  path=\"/logout\" \n                render={() => {\n                    if (Auth.token !== false )   \n                        { return <LogOut/> }\n                    else    \n                    {\n                        return <Redirect to=\"/\"/>\n                    }\n                       \n                       \n                }}>\n                </Route>\n                    \n                <Route  path=\"/purchase\" \n                render={() => {\n                    if (Auth.token !== false && (Auth.UserRole === 'Purchase'))   \n                        { return <PurchaseDashboard/> }\n                    else    \n                    {\n                        return <Redirect to=\"/\"/>\n                    }\n                       \n                       \n                }}>\n                </Route>    \n                \n                <Route  path=\"/managerdashboard\" \n                render={() => {\n                    if (Auth.token !== false && (Auth.UserRole === 'Admin' || Auth.UserRole === \"Accounts\" || Auth.UserRole === \"Director\"))   \n                        { return <MDashboard /> }\n                    else    \n                    {\n                        return <Redirect to=\"/\"/>\n                    }\n                       \n                       \n                }}>\n                </Route>  \n\n               <Route  path=\"/storedashboard\" \n               render={() => {\n                   if (Auth.token !== false && Auth.UserRole === 'Store')   \n                       { return <StoreDashboard /> }\n                   else    \n                   {\n                       return <Redirect to=\"/\"/>\n                   }\n                      \n                      \n               }}>\n               </Route> \n            </Switch>\n         \n    )\n}\n\n// const ProtectRoute = ({token, comp: Component, ...rest})=>{\n//     // const Auth = React.useContext(AuthApi);\n    \n//     return (\n\n//         <Route \n//         {...rest}\n//         render={() =>{ \n//          if (token)\n//             {\n//                 console.log(\"Token is true\")\n//                 return <Component />\n//             }\n        \n//         else\n//             {\n//                 console.log(\"Token is not true\")\n//                 return (<Redirect to='/' exact/>)\n//             }    \n//         }\n    \n    \n//     }\n        \n//         />\n//     )\n// }\n\n\n// const ProtectLogin = ({token, components: Component, ...rest})=>{\n//     return (\n        \n//         <Route \n//         {...rest}\n//         render={() => token ? (\n//             <Redirect to='/dashboard'/>    \n//         ):\n//         (\n//             <Component />\n//         )\n    \n    \n//     }\n        \n//         />\n//     )\n// }\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}