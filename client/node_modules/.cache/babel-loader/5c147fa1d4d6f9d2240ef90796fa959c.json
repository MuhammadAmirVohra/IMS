{"ast":null,"code":"var _jsxFileName = \"/home/amir/Desktop/New File/current/IMS/client/src/components/ManagerRequestTable/ManagerRequestTable.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Table, Container, OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport moment from 'moment';\nimport styled from 'styled-components';\nimport { useHistory } from 'react-router';\nimport { API_URL } from '../../utils/constant';\nimport Cookie from 'universal-cookie';\nimport '../style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst AdminRequestTable = () => {\n  _s();\n\n  const cookie = new Cookie();\n  const arr = ['Requested By', 'Email', 'Date Requested', 'Item Name', 'Quantity', 'Duration'];\n  const [allrequest, setrequests] = useState([]);\n\n  async function fetch() {\n    await axios.get(`${API_URL}/get_accounts_requests`, {\n      withCredentials: true\n    }).then(res => {\n      console.log(res.data);\n      setrequests(res.data);\n    });\n  }\n\n  useEffect(() => {\n    fetch();\n    setInterval(() => {\n      fetch();\n    }, 3000);\n  }, []);\n  const history = useHistory();\n\n  const OpenNewPage = id => {\n    // var Role = localStorage.getItem('user');\n    var Role = cookie.get('user');\n    if (Role === 'Admin') history.push('/' + id + '/adminrequest');else if (Role === 'Director') history.push('/' + id + '/directorrequest');else history.push('/' + id + '/accountsrequest');\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [allrequest.length > 0 && /*#__PURE__*/_jsxDEV(Table, {\n        className: \"TableStyle\",\n        responsive: true,\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"#\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 14\n            }, this), arr.map((_, index) => /*#__PURE__*/_jsxDEV(\"th\", {\n              children: _\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: allrequest.map((request, index) => {\n            return /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(OverlayTrigger, {\n                placement: \"bottom\",\n                overlay: /*#__PURE__*/_jsxDEV(Tooltip, {\n                  id: \"button-tooltip-2\",\n                  children: \"Click to see Details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 57\n                }, this),\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  onClick: () => {\n                    OpenNewPage(request._id);\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: index + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 74,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [request.R_Emp_Name, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 75,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 75,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: request.R_Emp_Email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: moment(request.Added).format('Do MMMM YYYY')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 77,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: request.Item\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: request.Quantity\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 79,\n                    columnNumber: 17\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: request.Duration\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 80,\n                    columnNumber: 17\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 13\n              }, this)\n            }, void 0, false);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), allrequest.length === 0 && /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"No Requests.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 38\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 6\n    }, this)\n  }, void 0, false);\n};\n\n_s(AdminRequestTable, \"xX+ciJXH5yvqzFMkmWNjloAVrL4=\", false, function () {\n  return [useHistory];\n});\n\n_c = AdminRequestTable;\nexport default AdminRequestTable; // const TableStyle = styled(Table)`\n// th {background: #1F386B; color:white;}\n// tr{\n//     cursor:pointer;\n//     &:hover{\n//         background: lightgray;\n//     }\n// }\n// `;\n// const Btn = styled(Button)`\n// &:hover{\n//     background: #0e8ccc;\n// }\n// `;\n// const ModalBody = styled(Modal.Body)`\n// li{\n//     padding:5px;\n// }\n// `;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminRequestTable\");","map":{"version":3,"sources":["/home/amir/Desktop/New File/current/IMS/client/src/components/ManagerRequestTable/ManagerRequestTable.js"],"names":["React","useEffect","useState","axios","Table","Container","OverlayTrigger","Tooltip","moment","styled","useHistory","API_URL","Cookie","AdminRequestTable","cookie","arr","allrequest","setrequests","fetch","get","withCredentials","then","res","console","log","data","setInterval","history","OpenNewPage","id","Role","push","length","map","_","index","request","_id","R_Emp_Name","R_Emp_Email","Added","format","Item","Quantity","Duration"],"mappings":";;;AAAA,OAAOA,KAAP,IAAiBC,SAAjB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,KAAR,EAAcC,SAAd,EAAwBC,cAAxB,EAAuCC,OAAvC,QAAqD,iBAArD;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAAQC,UAAR,QAAyB,cAAzB;AACA,SAASC,OAAT,QAAwB,sBAAxB;AACA,OAAOC,MAAP,MAAmB,kBAAnB;AACA,OAAO,cAAP;;;;AAEA,MAAMC,iBAAiB,GAAG,MAAM;AAAA;;AAC5B,QAAMC,MAAM,GAAG,IAAIF,MAAJ,EAAf;AACA,QAAMG,GAAG,GAAG,CAAC,cAAD,EAAgB,OAAhB,EAAwB,gBAAxB,EAAyC,WAAzC,EAAqD,UAArD,EAAgE,UAAhE,CAAZ;AACA,QAAM,CAACC,UAAD,EAAaC,WAAb,IAA4Bf,QAAQ,CAAC,EAAD,CAA1C;;AAIA,iBAAegB,KAAf,GAAsB;AAClB,UAAMf,KAAK,CAACgB,GAAN,CAAW,GAAER,OAAQ,wBAArB,EAA8C;AAC/CS,MAAAA,eAAe,EAAE;AAD8B,KAA9C,EAEFC,IAFE,CAEIC,GAAD,IAAO;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AAEAR,MAAAA,WAAW,CAACK,GAAG,CAACG,IAAL,CAAX;AAEH,KAPI,CAAN;AAQH;;AACDxB,EAAAA,SAAS,CAAE,MAAK;AACZiB,IAAAA,KAAK;AACPQ,IAAAA,WAAW,CAAC,MAAI;AAACR,MAAAA,KAAK;AAAG,KAAd,EAAgB,IAAhB,CAAX;AACD,GAHQ,EAGP,EAHO,CAAT;AAKA,QAAMS,OAAO,GAAGjB,UAAU,EAA1B;;AACA,QAAMkB,WAAW,GAAIC,EAAD,IAAQ;AAExB;AACA,QAAIC,IAAI,GAAGhB,MAAM,CAACK,GAAP,CAAW,MAAX,CAAX;AACA,QAAIW,IAAI,KAAK,OAAb,EACAH,OAAO,CAACI,IAAR,CAAa,MAAMF,EAAN,GAAW,eAAxB,EADA,KAEK,IAAIC,IAAI,KAAK,UAAb,EACLH,OAAO,CAACI,IAAR,CAAa,MAAMF,EAAN,GAAW,kBAAxB,EADK,KAGLF,OAAO,CAACI,IAAR,CAAa,MAAMF,EAAN,GAAW,kBAAxB;AAEH,GAXD;;AAcA,sBACI;AAAA,2BAGH,QAAC,SAAD;AAAA,iBACMb,UAAU,CAACgB,MAAX,GAAoB,CAApB,iBACH,QAAC,KAAD;AAAO,QAAA,SAAS,EAAC,YAAjB;AAA8B,QAAA,UAAU,MAAxC;AAAA,gCACA;AAAA,iCACI;AAAA,oCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,EAECjB,GAAG,CAACkB,GAAJ,CAAQ,CAACC,CAAD,EAAIC,KAAJ,kBACP;AAAA,wBAAiBD;AAAjB,eAASC,KAAT;AAAA;AAAA;AAAA;AAAA,oBADD,CAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBADA,eAUA;AAAA,oBACGnB,UAAU,CAACiB,GAAX,CAAe,CAACG,OAAD,EAAUD,KAAV,KAAmB;AACjC,gCACA;AAAA,qCACA,QAAC,cAAD;AAAgB,gBAAA,SAAS,EAAC,QAA1B;AAAmC,gBAAA,OAAO,eAAE,QAAC,OAAD;AAAS,kBAAA,EAAE,EAAC,kBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAA5C;AAAA,uCAEA;AAAI,kBAAA,OAAO,EAAK,MAAI;AAChBP,oBAAAA,WAAW,CAACQ,OAAO,CAACC,GAAT,CAAX;AAEH,mBAHD;AAAA,0CAII;AAAA,8BAAKF,KAAK,GAAC;AAAX;AAAA;AAAA;AAAA;AAAA,0BAJJ,eAKI;AAAA,+BAAKC,OAAO,CAACE,UAAb,eAAwB;AAAA;AAAA;AAAA;AAAA,4BAAxB;AAAA;AAAA;AAAA;AAAA;AAAA,0BALJ,eAMI;AAAA,8BAAKF,OAAO,CAACG;AAAb;AAAA;AAAA;AAAA;AAAA,0BANJ,eAOI;AAAA,8BAAK/B,MAAM,CAAC4B,OAAO,CAACI,KAAT,CAAN,CAAsBC,MAAtB,CAA6B,cAA7B;AAAL;AAAA;AAAA;AAAA;AAAA,0BAPJ,eAQI;AAAA,8BAAKL,OAAO,CAACM;AAAb;AAAA;AAAA;AAAA;AAAA,0BARJ,eASI;AAAA,8BAAKN,OAAO,CAACO;AAAb;AAAA;AAAA;AAAA;AAAA,0BATJ,eAUI;AAAA,8BAAKP,OAAO,CAACQ;AAAb;AAAA;AAAA;AAAA;AAAA,0BAVJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AADA,6BADA;AAqBD,WAtBA;AADH;AAAA;AAAA;AAAA;AAAA,gBAVA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFH,EAyCK5B,UAAU,CAACgB,MAAX,KAAsB,CAAtB,iBAA2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAzChC;AAAA;AAAA;AAAA;AAAA;AAAA;AAHG,mBADJ;AAqDH,CA1FD;;GAAMnB,iB;UAsBcH,U;;;KAtBdG,iB;AA6FN,eAAeA,iBAAf,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AAEA","sourcesContent":["import React , { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport {Table,Container,OverlayTrigger,Tooltip} from 'react-bootstrap';\nimport moment from 'moment';\nimport styled from 'styled-components';\nimport {useHistory} from 'react-router';\nimport { API_URL } from '../../utils/constant';\nimport Cookie from 'universal-cookie';\nimport '../style.css' \n\nconst AdminRequestTable = () => {\n    const cookie = new Cookie();\n    const arr = ['Requested By','Email','Date Requested','Item Name','Quantity','Duration']\n    const [allrequest, setrequests] = useState([])\n    \n\n\n    async function fetch(){\n        await axios.get(`${API_URL}/get_accounts_requests`, {\n             withCredentials: true\n         }).then((res)=>{\n             console.log(res.data);\n             \n             setrequests(res.data);\n             \n         })\n    }\n    useEffect( () =>{\n        fetch();\n      setInterval(()=>{fetch()}, 3000);\n    },[])\n \n    const history = useHistory() \n    const OpenNewPage = (id) => {\n        \n        // var Role = localStorage.getItem('user');\n        var Role = cookie.get('user');\n        if (Role === 'Admin')\n        history.push('/' + id + '/adminrequest')\n        else if (Role === 'Director')\n        history.push('/' + id + '/directorrequest')\n        else\n        history.push('/' + id + '/accountsrequest')\n      \n    }\n\n\n    return(\n        <>\n     \n\n     <Container>\n         { allrequest.length > 0 &&\n        <Table className=\"TableStyle\" responsive>\n        <thead>\n            <tr>\n             <th>#</th>\n            {arr.map((_, index) => (\n              <th key={index}>{_}</th>\n            ))}\n            \n          </tr>\n        </thead>\n        <tbody>\n          {allrequest.map((request, index) =>{\n            return(\n            <>\n            <OverlayTrigger placement=\"bottom\" overlay={<Tooltip id=\"button-tooltip-2\">Click to see Details</Tooltip>} >\n            \n            <tr onClick =  {()=>{ \n                OpenNewPage(request._id)\n\n            }}>\n                <td>{index+1}</td>\n                <td>{request.R_Emp_Name}<br/></td>\n                <td>{request.R_Emp_Email}</td>\n                <td>{moment(request.Added).format('Do MMMM YYYY')}</td>\n                <td>{request.Item}</td>\n                <td>{request.Quantity}</td>\n                <td>{request.Duration}</td>\n                \n            </tr>\n            </OverlayTrigger>\n           \n            </>\n            )\n          })}\n        </tbody>\n      </Table>\n      \n      }\n      {\n          allrequest.length === 0 && <h2>No Requests.</h2>\n      }\n        \n      </Container>\n      </>\n    )\n\n\n}\n\n\nexport default AdminRequestTable\n\n// const TableStyle = styled(Table)`\n// th {background: #1F386B; color:white;}\n// tr{\n//     cursor:pointer;\n//     &:hover{\n//         background: lightgray;\n//     }\n// }\n// `;\n\n// const Btn = styled(Button)`\n// &:hover{\n//     background: #0e8ccc;\n// }\n\n// `;\n\n// const ModalBody = styled(Modal.Body)`\n\n// li{\n//     padding:5px;\n// }\n\n// `;"]},"metadata":{},"sourceType":"module"}