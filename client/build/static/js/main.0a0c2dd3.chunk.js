(this.webpackJsonpinventory=this.webpackJsonpinventory||[]).push([[0],{109:function(e,t,n){"use strict";n.r(t);var c,a,r,s,o,j,i,b,l,d,u,h,O,x,m,p=n(1),g=n.n(p),f=n(24),v=n.n(f),y=n(6),w=n(4),k=n(30),R=n(26),S=n(115),C=n(73),_=n(122),I=n(124),N=n(116),q=n(117),E=n(5),D=n(10),F=n.n(D),T=n(123),B=n(68),A=new(n.n(B).a),Q=n(114),U=n(0),M=function(){var e=Object(p.useState)(!1),t=Object(y.a)(e,2),n=t[0],c=t[1],a=Object(p.useState)(""),r=Object(y.a)(a,2),s=r[0],o=r[1],j=Object(p.useState)(""),i=Object(y.a)(j,2),b=i[0],l=i[1];return Object(p.useEffect)((function(){A.addListener("flash",(function(e){var t=e.message,n=e.type;console.log("flash"),c(!0),o(t),l(n),setTimeout((function(){c(!1)}),2e3)}))}),[]),Object(p.useEffect)((function(){null!==document.querySelector(".close")&&document.querySelector(".close").addEventListener("click",(function(){return c(!1)}))})),n&&Object(U.jsx)(G,{variant:b,children:Object(U.jsx)("p",{className:"m-0 text-center",children:s})})},G=Object(E.b)(Q.a)(c||(c=Object(w.a)(["\n    margin-top : 90px;\n\n"]))),L=function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(M,{}),Object(U.jsx)(Y,{className:"fixed-top",variant:"dark",children:Object(U.jsxs)(T.a.Brand,{href:"",children:[Object(U.jsx)("img",{alt:"",src:"nav_logo.png",className:"d-inline-block align-top ml-3",height:"60",width:"60"}),Object(U.jsx)("h2",{className:"d-inline-block ml-3 mt-2 ",style:{fontSize:40},children:"Inventory Management System"})]})})]})},Y=Object(E.b)(T.a)(a||(a=Object(w.a)(["\n    // background:  rgba(0,0,0,0.8);\n    background: #1F386B;\n\n"]))),P="",H=n(11),z=g.a.createContext(),J=function(){var e=g.a.useContext(z),t=Object(H.g)(),n=Object(p.useState)({username:"",password:""}),c=Object(y.a)(n,2),a=c[0],r=c[1],s=Object(p.useState)(!0),o=Object(y.a)(s,2),j=o[0],i=o[1],b=function(e){var t=e.target.value;r(Object(R.a)(Object(R.a)({},a),{},Object(k.a)({},e.target.name,t)))};function l(){var e=Object(p.useState)(!1),t=Object(y.a)(e,2),n=t[0],c=t[1];Object(p.useEffect)((function(){n&&new Promise((function(e){return setTimeout(e,2e3)})).then((function(){c(!1)}))}),[n]);return Object(U.jsx)(W,{disabled:n,onClick:n?null:function(){c(!0),d()},children:n?"Signing in..":"Sign In"})}var d=function(){F()({method:"POST",data:{username:a.username,password:a.password},withCredentials:!0,url:"".concat(P,"/login")}).then((function(n){console.log(n.data),n.data?(console.log(n.data),404===n.data.code?(e.settoken(!1),localStorage.setItem("token",!1),i(!1),window.flash("Login Failed","danger")):(e.settoken(!0),localStorage.setItem("token",!0),localStorage.setItem("user",n.data.user.Designation),e.setRole(n.data.user.Designation),"Head"===n.data.user.Designation?t.push("/hoddashboard"):"Purchase"===n.data.user.Designation?t.push("/purchase"):"Admin"===n.data.user.Designation||"Accounts"===n.data.user.Designation||"Director"===n.data.user.Designation?t.push("/managerdashboard"):"Store"===n.data.user.Designation?t.push("/storedashboard"):t.push("/dashboard"))):console.log("No user found")}))};return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(L,{}),Object(U.jsx)(X,{className:"d-flex justify-content-center align-items-center",children:Object(U.jsx)(S.a,{children:Object(U.jsx)(C.a,{className:"text-center",children:Object(U.jsx)(V,{children:Object(U.jsxs)(_.a,{onSubmit:d,children:[Object(U.jsx)(I.a.Header,{className:"text-left",children:"LOGIN"}),Object(U.jsxs)(I.a.Body,{children:[Object(U.jsxs)(_.a.Group,{className:"text-left",children:[Object(U.jsx)(_.a.Label,{children:"Username : "}),Object(U.jsx)(_.a.Control,{placeholder:"Enter Username",onChange:b,type:"text",name:"username",value:a.username})]}),Object(U.jsxs)(_.a.Group,{className:"text-left",children:[Object(U.jsx)(_.a.Label,{children:"Password : "}),Object(U.jsx)(_.a.Control,{onKeyUp:function(e){13===e.keyCode&&(console.log("heree"),d())},placeholder:"Enter Password",onChange:b,type:"password",name:"password",value:a.password})]}),!1===j&&Object(U.jsx)(K,{className:"text-left",children:"*username or password incorrect"}),Object(U.jsx)(_.a.Group,{className:"text-right",children:Object(U.jsx)(l,{})})]})]})})})})})]})},K=Object(E.b)(I.a.Text)(r||(r=Object(w.a)(["\ncolor:red;\nmargin-top: -13px;\nfont-size: 12px;\n"]))),V=Object(E.b)(I.a)(s||(s=Object(w.a)(["\nbackground: white;\nbox-shadow: 6px 5px 5px rgb(0 0 0 );\n    width: 500px;\n    height: 350px;\n   \n"]))),W=Object(E.b)(N.a)(o||(o=Object(w.a)(["\n    background :#EFBB20;\n    border: none; \n    &:hover{\n    background: #0e8ccc;\n}\n"]))),X=Object(E.b)(q.a)(j||(j=Object(w.a)(["\n    width: 100%;\n  height: 100vh;\n  min-height: 100%;\n  min-height: 100vh;\n"]))),Z=n(21),$=function(){var e=Object(p.useState)({Name:"",email:"",itemname:"",qty:"",duration:"",reason:""}),t=Object(y.a)(e,2),n=t[0],c=t[1],a=function(e){var t=e.target.value;c(Object(R.a)(Object(R.a)({},n),{},Object(k.a)({},e.target.name,t)))};return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(te,{className:"d-flex justify-content-left align-items-left",children:Object(U.jsx)(S.a,{children:Object(U.jsx)(C.a,{className:"text-left",children:Object(U.jsxs)(ee,{onSubmit:function(e){e.preventDefault(),F()({method:"POST",data:{R_Emp_Name:n.Name,R_Emp_Email:n.email,Item:n.itemname,Quantity:n.qty,Duration:n.duration,Reason:n.reason},withCredentials:!0,url:"".concat(P,"/add_request")}).then((function(e){console.log(e.data),e.data?(console.log(e.data),window.flash("Request Forwarded\nRequest ID : "+e.data._id),c({Name:"",email:"",itemname:"",qty:"",duration:"",reason:""})):console.log("No user found")}))},children:[Object(U.jsxs)(_.a.Group,{children:[Object(U.jsx)(_.a.Label,{children:"Name : "}),Object(U.jsx)(_.a.Control,{placeholder:"Enter Name",onChange:a,type:"text",name:"Name",value:n.Name})]}),Object(U.jsxs)(_.a.Group,{children:[Object(U.jsx)(_.a.Label,{children:"Email : "}),Object(U.jsx)(_.a.Control,{placeholder:"Enter Email",onChange:a,type:"email",name:"email",value:n.email})]}),Object(U.jsxs)(_.a.Group,{children:[Object(U.jsx)(_.a.Label,{children:"Item : "}),Object(U.jsx)(_.a.Control,{placeholder:"Enter Item Name",onChange:a,type:"text",name:"itemname",value:n.itemname})]}),Object(U.jsxs)(_.a.Row,{children:[Object(U.jsxs)(_.a.Group,{as:C.a,children:[Object(U.jsx)(_.a.Label,{children:"Quantity : "}),Object(U.jsx)(_.a.Control,{placeholder:"Enter Quantity",onChange:a,type:"number",name:"qty",value:n.qty})]}),Object(U.jsxs)(_.a.Group,{as:C.a,children:[Object(U.jsx)(_.a.Label,{children:"Duration : "}),Object(U.jsx)(_.a.Control,{placeholder:"Enter Duration",onChange:a,type:"text",name:"duration",value:n.duration})]})]}),Object(U.jsxs)(_.a.Group,{children:[Object(U.jsx)(_.a.Label,{children:"Reason : "}),Object(U.jsx)(_.a.Control,{placeholder:"Elaborate Reason(Optional)",as:"textarea",rows:4,onChange:a,type:"text",name:"reason",value:n.reason})]}),Object(U.jsx)(_.a.Group,{className:"text-right",children:Object(U.jsx)(ne,{type:"submit",className:"btn btn-md btn-success",children:"Submit"})})]})})})})})},ee=Object(E.b)(_.a)(i||(i=Object(w.a)(["\n    background-color: white;\n    width: 500px;\n    .form-group{  \n        &:hover{\n\n        }\n    }\n\n"]))),te=Object(E.b)(q.a)(b||(b=Object(w.a)(["\n    width: 100%;\n  height: 100vh;\n  min-height: 100%;\n  min-height: 100vh;\n"]))),ne=Object(E.b)(N.a)(l||(l=Object(w.a)(["\n    background :#EFBB20;\n    border: none; \n    &:hover{\n    background: #0e8ccc;\n}\n"]))),ce=function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(M,{}),Object(U.jsx)(ae,{className:"fixed-top",children:Object(U.jsx)(Z.b,{to:"/logout",children:Object(U.jsx)(re,{className:"btn-primary btn-md mr-4",children:"Log Out"})})})]})},ae=Object(E.b)(T.a)(d||(d=Object(w.a)(["\n    // background:  rgba(0,0,0,0.8);\n    background: #1F386B;\n    justify-content:flex-end;\n"]))),re=Object(E.b)(N.a)(u||(u=Object(w.a)(["\n    background :#EFBB20;\n    border: none; \n    &:hover{\n    background: #0e8ccc;\n}\n"]))),se=n(72),oe=function(){var e=Object(p.useState)({name:"",username:"",password:""}),t=Object(y.a)(e,2),n=t[0],c=t[1],a=Object(p.useState)({emp_Name:"",designation:"",department:""}),r=Object(y.a)(a,2),s=r[0],o=r[1],j=Object(p.useState)(!1),i=Object(y.a)(j,2),b=i[0],l=i[1],d=Object(p.useState)({}),u=Object(y.a)(d,2),h=u[0],O=u[1],x=Object(H.g)();Object(p.useEffect)((function(){F.a.get("".concat(P,"/dashboard"),{withCredentials:!0}).then((function(e){if(e.data){console.log(e.data);var t=e.data;O(e.data.user._id),c({name:e.data.user.Emp_Name,username:e.data.user.Username,password:e.data.user.Password}),console.log(e.data.user),o({emp_Name:t.user.Emp_Name,designation:t.user.Designation,department:t.department.Dept_Name})}else x.push("/logout")}))}),[x]);var m=function(e){var t=e.target.value;console.log(t),c(Object(R.a)(Object(R.a)({},n),{},Object(k.a)({},e.target.name,t)))};return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)(je,{children:[Object(U.jsx)(je.Header,{children:"User Information"}),Object(U.jsx)(je.Body,{children:s&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(je.Title,{children:[Object(U.jsx)("strong",{children:"User:  "}),s.emp_Name]}),Object(U.jsxs)(je.Title,{children:[Object(U.jsx)("strong",{children:"Designation:"})," ",s.designation]}),Object(U.jsxs)(je.Title,{children:[Object(U.jsx)("strong",{children:"Department:"})," ",s.department]}),Object(U.jsx)(ie,{className:"mb-4",onClick:function(){return l(!b)},"aria-controls":"collapse_menu","aria-expanded":b,children:"Profile"}),Object(U.jsx)(se.a,{in:b,children:Object(U.jsx)("div",{id:"collapse_menu",children:Object(U.jsxs)(_.a,{onSubmit:function(e){e.preventDefault(),F()({method:"POST",data:{id:h,name:n.name,username:n.username,password:n.password},withCredentials:!0,url:"".concat(P,"/update_profile")}).then((function(e){o(Object(R.a)(Object(R.a)({},s),{},{emp_Name:n.name})),l(!1)}))},children:[Object(U.jsxs)(_.a.Group,{children:[Object(U.jsx)(_.a.Label,{children:"Name :"}),Object(U.jsx)(_.a.Control,{name:"name",onChange:m,value:n.name})]}),Object(U.jsxs)(_.a.Group,{children:[Object(U.jsx)(_.a.Label,{children:"Username :"}),Object(U.jsx)(_.a.Control,{name:"username",onChange:m,value:n.username})]}),Object(U.jsxs)(_.a.Group,{children:[Object(U.jsx)(_.a.Label,{children:"Password :"}),Object(U.jsx)(_.a.Control,{name:"password",onChange:m,value:n.password})]}),Object(U.jsx)(ie,{type:"submit",children:"Update"})]})})})]})})]})})},je=Object(E.b)(I.a)(h||(h=Object(w.a)(["\n\n    width=25rem;\n\n"]))),ie=Object(E.b)(N.a)(O||(O=Object(w.a)(["\n    background :#EFBB20;\n    border: none; \n    &:hover{\n    background: #0e8ccc;\n}"]))),be=function(){var e=Object(p.useState)({}),t=Object(y.a)(e,2),n=t[0],c=t[1],a=Object(p.useState)(!1),r=Object(y.a)(a,2),s=r[0],o=r[1],j=Object(p.useState)(!1),i=Object(y.a)(j,2),b=i[0],l=i[1],d=Object(p.useState)(""),u=Object(y.a)(d,2),h=u[0],O=u[1],x=Object(p.useState)({status:"",item:""}),m=Object(y.a)(x,2),g=m[0],f=m[1];return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(le,{className:"mb-4",onClick:function(){return l(!b)},"aria-controls":"collapse_menu","aria-expanded":b,children:"Track Request"}),Object(U.jsx)(se.a,{in:b,children:Object(U.jsxs)("div",{id:"collapse_menu",children:[Object(U.jsxs)(_.a,{onSubmit:function(e){o(!1),O(""),e.preventDefault(),F.a.post("".concat(P,"/get_request"),{id:n}).then((function(e){console.log("STATUSSSS",e.data),404===e.data.code?O(e.data.message):(f({status:e.data.Status,item:e.data.Item}),o(!0),O(""))}))},children:[Object(U.jsx)(_.a.Control,{type:"text",placeholder:"Request ID",onChange:function(e){var t=e.target.value;c(t)},name:"RequestID"}),Object(U.jsx)("br",{}),Object(U.jsx)(le,{type:"submit",children:"Submit"})]}),Object(U.jsx)("h3",{className:"mt-2",children:h}),s&&Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)(I.a,{className:"mt-4",children:[Object(U.jsx)(I.a.Header,{children:"Request Status"}),Object(U.jsxs)(I.a.Body,{children:["Requested"===g.status||"Approved"===g.status||"Completed"===g.status||"Issued"===g.status?Object(U.jsxs)(I.a.Title,{children:["Status: ",g.status]}):Object(U.jsx)(I.a.Title,{children:"Status: Pending"}),Object(U.jsxs)(I.a.Title,{children:["Item: ",g.item]})]})]})})]})})]})},le=Object(E.b)(N.a)(x||(x=Object(w.a)(["\n\nbackground :#EFBB20;\nborder: none; \n&:hover{\nbackground: #0e8ccc;\n}\n\n"]))),de=function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ce,{}),Object(U.jsx)(ue,{children:Object(U.jsxs)(S.a,{children:[Object(U.jsxs)(C.a,{children:[Object(U.jsx)(oe,{}),Object(U.jsx)("br",{}),Object(U.jsx)(be,{})]}),Object(U.jsxs)(C.a,{children:[Object(U.jsx)("h1",{children:"Requisition Form: "}),Object(U.jsx)($,{})]})]})})]})},ue=Object(E.b)(q.a)(m||(m=Object(w.a)(["\n    width: 100%;\n    height: auto;\n    min-height: 100%;\n    min-height: 100vh;\n    margin-top:100px;\n"])));var he,Oe,xe,me,pe,ge,fe,ve,ye,we,ke,Re,Se,Ce,_e,Ie,Ne,qe,Ee,De,Fe,Te,Be,Ae,Qe,Ue,Me,Ge,Le,Ye,Pe,He,ze,Je,Ke,Ve,We,Xe,Ze,$e,et,tt,nt=function(){var e=Object(H.g)(),t=g.a.useContext(z);return F.a.get("".concat(P,"/logout")).then((function(n){t.settoken(!1),localStorage.clear(),e.push("/")})),Object(U.jsx)("div",{})},ct=n(12),at=n.n(ct),rt=n(15),st=n(121),ot=n(118),jt=n(18),it=n.n(jt),bt=function(){var e=Object(p.useState)([]),t=Object(y.a)(e,2),n=t[0],c=t[1];function a(){return r.apply(this,arguments)}function r(){return(r=Object(rt.a)(at.a.mark((function e(){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("".concat(P,"/get_all_request"),{withCredentials:!0}).then((function(e){console.log(e.data),c(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(p.useEffect)((function(){a()}),[]);var s=Object(p.useState)(!1),o=Object(y.a)(s,2),j=o[0],i=o[1],b=Object(p.useState)({}),l=Object(y.a)(b,2),d=l[0],u=l[1],h=function(){var e=Object(p.useState)(""),t=Object(y.a)(e,2),n=t[0],c=t[1];return Object(U.jsxs)(st.a,{show:j,onHide:function(){i(!1)},children:[Object(U.jsx)(st.a.Header,{closeButton:!0,children:Object(U.jsx)(st.a.Title,{children:"Details"})}),Object(U.jsxs)(_.a,{children:[Object(U.jsx)(ut,{children:Object(U.jsxs)("ul",{className:"list-unstyled",children:[Object(U.jsxs)("li",{children:[Object(U.jsx)("strong",{children:"Requested by:"})," ",d.R_Emp_Name]}),Object(U.jsxs)("li",{children:[Object(U.jsx)("strong",{children:"Email:"})," ",d.R_Emp_Email]}),Object(U.jsxs)("li",{children:[Object(U.jsx)("strong",{children:"Item:"})," ",d.Item]}),Object(U.jsxs)("li",{children:[Object(U.jsx)("strong",{children:"Quantity:"})," ",d.Quantity]}),Object(U.jsxs)("li",{children:[Object(U.jsx)("strong",{children:"Duration:"})," ",d.Duration]}),Object(U.jsxs)("li",{children:[Object(U.jsx)("strong",{children:"Reason:"})," ",d.Reason]}),Object(U.jsx)("li",{className:"mt-3",children:Object(U.jsx)(_.a.Group,{children:Object(U.jsx)(_.a.Control,{as:"textarea",value:n,onChange:function(e){c(e.target.value)},placeholder:"Additional Comments",row:6})})})]})}),Object(U.jsxs)(st.a.Footer,{children:[Object(U.jsx)(dt,{className:"btn-success",onClick:function(){console.log("Approve Request"),F.a.post("".concat(P,"/request_approve"),{id:d._id}).then((function(e){e.data&&(window.flash("Request Approved"),i(!1),a())}))},children:"Approve"}),Object(U.jsx)(dt,{className:"btn-danger",onClick:function(){F.a.post("".concat(P,"/request_reject"),{id:d._id,name:d.R_Emp_Name,email:d.R_Emp_Email,item:d.Item,comment:n}).then((function(e){e.data&&(window.flash("Request Rejected"),i(!1),a())}))},children:"Reject"})]})]})]})};return Object(U.jsxs)(U.Fragment,{children:[j?Object(U.jsx)("div",{children:Object(U.jsx)(h,{})}):null,Object(U.jsxs)(q.a,{children:[n.length>0&&Object(U.jsxs)(lt,{responsive:!0,children:[Object(U.jsx)("thead",{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("th",{children:"#"}),["Requested By","Email","Date Requested","Item Name","Quantity","Duration"].map((function(e,t){return Object(U.jsx)("th",{children:e},t)}))]})}),Object(U.jsx)("tbody",{children:n.map((function(e,t){return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("tr",{onClick:function(){u(e),i(!0)},children:[Object(U.jsx)("td",{children:t+1}),Object(U.jsxs)("td",{children:[e.R_Emp_Name,Object(U.jsx)("br",{})]}),Object(U.jsx)("td",{children:e.R_Emp_Email}),Object(U.jsx)("td",{children:it()(e.Added).format("Do MMMM YYYY")}),Object(U.jsx)("td",{children:e.Item}),Object(U.jsx)("td",{children:e.Quantity}),Object(U.jsx)("td",{children:e.Duration})]})})}))})]}),0===n.length&&Object(U.jsx)("h2",{children:"No Requests."})]})]})},lt=Object(E.b)(ot.a)(he||(he=Object(w.a)(["\nth {background: #1F386B; color:white;}\ntr{\n    cursor:pointer;\n    &:hover{\n        // background: #1F386B;\n    }\n}\n"]))),dt=Object(E.b)(N.a)(Oe||(Oe=Object(w.a)(["\n&:hover{\n    background: #0e8ccc;\n}\n\n"]))),ut=Object(E.b)(st.a.Body)(xe||(xe=Object(w.a)(["\n\nli{\n    padding:5px;\n}\n\n"]))),ht=function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ce,{}),Object(U.jsxs)(xt,{children:[Object(U.jsx)(oe,{}),Object(U.jsxs)(Z.b,{to:"/dashboard",children:[" ",Object(U.jsx)(Ot,{className:"btn btn-md mt-4 mb-4 float-right",children:" Requisition Form "})," "]}),Object(U.jsx)(bt,{})]})]})},Ot=Object(E.b)(N.a)(me||(me=Object(w.a)(["\n    background :#EFBB20;\n    border: none; \n    &:hover{\n    background: #0e8ccc;\n}\n"]))),xt=Object(E.b)(q.a)(pe||(pe=Object(w.a)(["\n    width: 100%;\n    height: auto;\n    min-height: 100%;\n    min-height: 100vh;\n    margin-top:100px;\n"]))),mt=function(){var e=Object(p.useState)([]),t=Object(y.a)(e,2),n=t[0],c=t[1];function a(){return r.apply(this,arguments)}function r(){return(r=Object(rt.a)(at.a.mark((function e(){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("".concat(P,"/get_purchase_request"),{withCredentials:!0}).then((function(e){console.log(e.data),c(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(p.useEffect)((function(){a()}),[]);var s=Object(p.useState)(!1),o=Object(y.a)(s,2),j=(o[0],o[1],Object(p.useState)(null)),i=Object(y.a)(j,2),b=i[0],l=i[1],d=Object(p.useState)(""),u=Object(y.a)(d,2),h=u[0],O=u[1],x=function(){var e=Object(rt.a)(at.a.mark((function e(t){var n;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log("File ",b),!b){e.next=9;break}return(n=new FormData).append("file",b),e.next=7,F.a.post("".concat(P,"/").concat(h,"/upload"),n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){200==e.data.code?(window.flash("File Successfully Submitted"),a()):window.flash("Failed To Submit The File","danger")}));case 7:e.next=10;break;case 9:window.flash("Please select a file to add.","danger");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){console.log(e);var t=Object(y.a)(e.target.files,1)[0];console.log(t),l(t)};return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(q.a,{children:Object(U.jsxs)(pt,{responsive:"sm",children:[Object(U.jsx)("thead",{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("th",{children:"#"}),["Date Requested","Item Name","Quantity","Quotation"].map((function(e,t){return Object(U.jsx)("th",{children:e},t)}))]})}),Object(U.jsx)("tbody",{children:n.map((function(e,t){return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("td",{children:t+1}),Object(U.jsx)("td",{children:it()(e.Added).format("Do MMMM YYYY")}),Object(U.jsx)("td",{children:e.Item}),Object(U.jsx)("td",{children:e.Quantity}),Object(U.jsx)("td",{children:Object(U.jsxs)(_.a,{onSubmit:x,children:[Object(U.jsx)(_.a.File,{name:"file",onChange:m}),Object(U.jsx)(gt,{type:"submit",className:"mt-2 btn btn-md",onClick:function(){O(e._id)},children:"Submit"})]})})]},t)})}))})]})})})},pt=Object(E.b)(ot.a)(ge||(ge=Object(w.a)(["\n\nth {background: #1F386B;color : white;}\ntr{\n    cursor:pointer;\n    &:hover{\n        background: lightgray;\n    }\n}\n"]))),gt=Object(E.b)(N.a)(fe||(fe=Object(w.a)(["\n    background :#EFBB20;\n    border: none; \n    &:hover{\n    background: #0e8ccc;\n}"]))),ft=(Object(E.b)(st.a.Body)(ve||(ve=Object(w.a)(["\n\nli{\n    padding:5px;\n}\n\n"]))),function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ce,{}),Object(U.jsxs)(vt,{children:[Object(U.jsx)(oe,{}),Object(U.jsx)("br",{}),Object(U.jsx)(mt,{})]})]})}),vt=Object(E.b)(q.a)(ye||(ye=Object(w.a)(["\n    width: 100%;\n    height: auto;\n    min-height: 100%;\n    min-height: 100vh;\n    margin-top:100px;\n"]))),yt=n(120),wt=n(119),kt=function(){var e=Object(p.useState)([]),t=Object(y.a)(e,2),n=t[0],c=t[1];function a(){return(a=Object(rt.a)(at.a.mark((function e(){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("".concat(P,"/get_accounts_requests"),{withCredentials:!0}).then((function(e){console.log(e.data),c(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(p.useEffect)((function(){!function(){a.apply(this,arguments)}()}),[]);var r=Object(H.g)();return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)(q.a,{children:[n.length>0&&Object(U.jsxs)(Rt,{responsive:!0,children:[Object(U.jsx)("thead",{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("th",{children:"#"}),["Requested By","Email","Date Requested","Item Name","Quantity","Duration"].map((function(e,t){return Object(U.jsx)("th",{children:e},t)}))]})}),Object(U.jsx)("tbody",{children:n.map((function(e,t){return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(yt.a,{placement:"bottom",overlay:Object(U.jsx)(wt.a,{id:"button-tooltip-2",children:"Click to see Details"}),children:Object(U.jsxs)("tr",{onClick:function(){!function(e){var t=localStorage.getItem("user");"Admin"===t?r.push("/"+e+"/adminrequest"):"Director"===t?r.push("/"+e+"/directorrequest"):r.push("/"+e+"/accountsrequest")}(e._id)},children:[Object(U.jsx)("td",{children:t+1}),Object(U.jsxs)("td",{children:[e.R_Emp_Name,Object(U.jsx)("br",{})]}),Object(U.jsx)("td",{children:e.R_Emp_Email}),Object(U.jsx)("td",{children:it()(e.Added).format("Do MMMM YYYY")}),Object(U.jsx)("td",{children:e.Item}),Object(U.jsx)("td",{children:e.Quantity}),Object(U.jsx)("td",{children:e.Duration})]})})})}))})]}),0===n.length&&Object(U.jsx)("h2",{children:"No Requests."})]})})},Rt=Object(E.b)(ot.a)(we||(we=Object(w.a)(["\nth {background: #1F386B; color:white;}\ntr{\n    cursor:pointer;\n    &:hover{\n        background: lightgray;\n    }\n}\n"]))),St=function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ce,{}),Object(U.jsxs)(Ct,{children:[Object(U.jsx)(oe,{}),Object(U.jsx)("br",{}),Object(U.jsx)(kt,{})]})]})},Ct=Object(E.b)(q.a)(ke||(ke=Object(w.a)(["\n    width: 100%;\n    height: auto;\n    min-height: 100%;\n    min-height: 100vh;\n    margin-top:100px;\n"]))),_t=n(37),It=n.n(_t),Nt=function(){var e=Object(p.useState)(""),t=Object(y.a)(e,2),n=t[0],c=t[1],a=Object(H.h)().id,r=Object(H.g)(),s=Object(p.useState)([]),o=Object(y.a)(s,2),j=o[0],i=o[1];console.log("Params ",a),Object(p.useEffect)((function(){F.a.get("".concat(P,"/")+a+"/accountsrequest").then((function(e){i(e.data),console.log(e.data)}))}),[a]);var b=function(){var e=Object(rt.a)(at.a.mark((function e(){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("".concat(P,"/").concat(a,"/download"),{responseType:"blob"}).then((function(e){It()(e.data,"quotation","pdf")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ce,{}),Object(U.jsx)(qt,{children:Object(U.jsxs)(I.a,{children:[Object(U.jsx)(I.a.Header,{children:"Request Details"}),Object(U.jsxs)(I.a.Body,{children:[Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Name: "}),j.R_Emp_Name]}),Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Email: "}),j.R_Emp_Email]}),Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Item: "}),j.Item]}),Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Duration: "}),j.Duration]}),Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Quantity: "}),j.Quantity]}),Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Reason : "}),j.Reason]}),Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Date Requested "}),it()(j.Added).format("Do MMMM YYYY")]}),Object(U.jsx)(Et,{onClick:b,children:"Download Quotation"}),Object(U.jsxs)(_.a,{className:"mt-4",onSubmit:function(){F.a.post("".concat(P,"/submitaccounts"),{id:a,comment:n}).then((function(e){200===e.status&&(console.log("Comment Added"),r.push("/managerdashboard"))}))},children:[Object(U.jsxs)(_.a.Group,{children:[Object(U.jsxs)(Dt,{children:["Add Comments",Object(U.jsx)("span",{children:"*"})]}),Object(U.jsx)(_.a.Control,{placeholder:"Enter Comments",as:"textarea",row:5,value:n,onChange:function(e){c(e.target.value)}})]}),Object(U.jsx)(_.a.Group,{children:Object(U.jsx)(Et,{type:"submit",className:"btn btn-md float-right",children:"Submit"})})]})]})]})})]})},qt=Object(E.b)(q.a)(Re||(Re=Object(w.a)(["\n    width: 100%;\n    height: auto;\n    min-height: 100%;\n    min-height: 100vh;\n    margin-top:100px;\n"]))),Et=Object(E.b)(N.a)(Se||(Se=Object(w.a)(["\n    background :#EFBB20;\n    border: none; \n    &:hover{\n    background: #0e8ccc;\n}"]))),Dt=Object(E.b)(I.a.Title)(Ce||(Ce=Object(w.a)(["\nspan{\n    color : red;\n}\n"]))),Ft=function(){var e=Object(H.g)(),t=Object(H.h)().id,n=Object(p.useState)(""),c=Object(y.a)(n,2),a=c[0],r=c[1],s=Object(p.useState)({}),o=Object(y.a)(s,2),j=o[0],i=o[1],b=Object(p.useState)({}),l=Object(y.a)(b,2),d=l[0],u=l[1];console.log("Params ",t),Object(p.useEffect)((function(){F.a.get("".concat(P,"/")+t+"/adminrequest").then((function(e){i(e.data.request),u(e.data.comment),console.log(e.data)}))}),[t]);var h=function(){var e=Object(rt.a)(at.a.mark((function e(){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("".concat(P,"/").concat(t,"/download"),{responseType:"blob"}).then((function(e){It()(e.data,"quotation","pdf")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ce,{}),Object(U.jsx)(Tt,{children:Object(U.jsxs)(I.a,{children:[Object(U.jsx)(I.a.Header,{children:"Request Details"}),Object(U.jsxs)(I.a.Body,{children:[Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Name: "}),j.R_Emp_Name]}),Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Email: "}),j.R_Emp_Email]}),Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Item: "}),j.Item]}),Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Duration: "}),j.Duration]}),Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Quantity: "}),j.Quantity]}),Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Reason : "}),j.Reason]}),Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Date Requested "}),it()(j.Added).format("Do MMMM YYYY")]}),Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Accounts Manager Comments : "}),d.Comment_Accounts]}),Object(U.jsx)(Bt,{onClick:h,children:"Download Quotation"}),Object(U.jsxs)(_.a,{className:"mt-4",onSubmit:function(){F.a.post("".concat(P,"/submitadmin"),{id:t,comment:a}).then((function(t){200===t.status&&(console.log("Comment Added"),e.push("/managerdashboard"))}))},children:[Object(U.jsxs)(_.a.Group,{children:[Object(U.jsxs)(At,{children:["Add Comments",Object(U.jsx)("span",{children:"*"})]}),Object(U.jsx)(_.a.Control,{as:"textarea",row:5,value:a,onChange:function(e){r(e.target.value)}})]}),Object(U.jsx)(_.a.Group,{children:Object(U.jsx)(Bt,{type:"submit",className:"btn btn-md float-right",children:"Submit"})})]})]})]})})]})},Tt=Object(E.b)(q.a)(_e||(_e=Object(w.a)(["\n    width: 100%;\n    height: auto;\n    min-height: 100%;\n    min-height: 100vh;\n    margin-top:100px;\n"]))),Bt=Object(E.b)(N.a)(Ie||(Ie=Object(w.a)(["\n    background :#EFBB20;\n    border: none; \n    &:hover{\n    background: #0e8ccc;\n}"]))),At=Object(E.b)(I.a.Title)(Ne||(Ne=Object(w.a)(["\nspan{\n    color : red;\n}\n"]))),Qt=function(){var e=Object(H.g)(),t=Object(H.h)().id,n=Object(p.useState)({request:{},comment:[]}),c=Object(y.a)(n,2),a=c[0],r=c[1];console.log("Params ",t);var s=g.a.createRef();Object(p.useEffect)((function(){F.a.get("".concat(P,"/")+t+"/directorrequest").then((function(e){r(e.data),console.log(t)}))}),[t]);var o=function(){var e=Object(rt.a)(at.a.mark((function e(){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("".concat(P,"/").concat(t,"/download"),{responseType:"blob"}).then((function(e){It()(e.data,a.request.Item+"_quotation","pdf")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ce,{}),Object(U.jsx)(Ut,{children:Object(U.jsxs)(I.a,{children:[Object(U.jsx)(I.a.Header,{children:"Request Details"}),Object(U.jsxs)(I.a.Body,{ref:s,children:[Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"ID: "}),t]}),Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Name: "}),a.request.R_Emp_Name]}),Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Email: "}),a.request.R_Emp_Email]}),Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Item: "}),a.request.Item]}),Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Duration: "}),a.request.Duration]}),Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Quantity: "}),a.request.Quantity]}),Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Reason : "}),a.request.Reason]}),Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Date Requested "}),it()(a.request.Added).format("Do MMMM YYYY")]}),Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Accounts Manager Comments : "}),a.comment.Comment_Accounts]}),Object(U.jsxs)(I.a.Title,{children:[Object(U.jsx)("strong",{children:"Admin Manager Comments : "}),a.comment.Comment_Admin]}),Object(U.jsx)(Mt,{onClick:o,children:"Download Quotation"})]}),Object(U.jsxs)(I.a.Footer,{children:[Object(U.jsx)(Mt,{children:Object(U.jsx)("a",{href:"".concat(P,"/")+t+"/pdf",children:"Generate Pdf"})}),Object(U.jsx)(Mt,{onClick:function(){F.a.post("".concat(P,"/")+t+"/acceptdirector").then((function(t){200===t.status?(console.log("Requested Accepted"),window.flash("Requested Accepted"),e.push("/managerdashboard")):(console.log("Requested Failed to Accept"),window.flash("Requested Failed to Accept","danger"))}))},children:"Accept"}),Object(U.jsx)(Mt,{onClick:function(){F.a.post("".concat(P,"/")+t+"/rejectdirector",{name:a.request.R_Emp_Name,email:a.request.R_Emp_Email,item:a.request.Item}).then((function(t){200===t.status?(console.log("Requested Rejected"),window.flash("Requested Rejected"),e.push("/managerdashboard")):(console.log("Requested Failed to Reject"),window.flash("Requested Failed to Reject","danger"))}))},children:"Reject"})]})]})})]})},Ut=Object(E.b)(q.a)(qe||(qe=Object(w.a)(["\n    width: 100%;\n    height: auto;\n    min-height: 100%;\n    min-height: 100vh;\n    margin-top:100px;\n"]))),Mt=Object(E.b)(N.a)(Ee||(Ee=Object(w.a)(["\n    background :#EFBB20;\n    border: none; \n    &:hover{\n    background: #0e8ccc;\n    a{\n        color: white;\n        text-decoration : none;\n    }\n}"]))),Gt=function(){var e=Object(p.useState)([]),t=Object(y.a)(e,2),n=t[0],c=t[1],a=Object(H.g)();function r(){return(r=Object(rt.a)(at.a.mark((function e(){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("".concat(P,"/storerequests"),{withCredentials:!0}).then((function(e){console.log(e.data),c(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.useEffect)((function(){!function(){r.apply(this,arguments)}()}),[]),Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)(q.a,{children:[n.length>0&&Object(U.jsxs)(Lt,{responsive:!0,children:[Object(U.jsx)("thead",{children:Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("th",{children:"#"}),["Requested By","Email","Item Name","Quantity","Duration"].map((function(e,t){return Object(U.jsx)("th",{children:e},t)})),Object(U.jsx)("th",{})]})})}),Object(U.jsx)("tbody",{children:n.map((function(e,t){return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(yt.a,{placement:"bottom",overlay:Object(U.jsx)(wt.a,{id:"button-tooltip-2",children:"Click to see Details"}),children:Object(U.jsxs)("tr",{onClick:function(){var t;t=e._id,console.log("STORE TABLE MAIN ID FOR PARAMS",t),a.push("/"+t+"/issuerequest")},children:[Object(U.jsx)("td",{children:t+1}),Object(U.jsxs)("td",{children:[e.R_Emp_Name,Object(U.jsx)("br",{})]}),Object(U.jsx)("td",{children:e.R_Emp_Email}),Object(U.jsx)("td",{children:e.Item}),Object(U.jsx)("td",{children:e.Quantity}),Object(U.jsx)("td",{children:e.Duration})]},t)})})}))})]}),0===n.length&&Object(U.jsx)("h2",{children:"No Requests."})]})})},Lt=Object(E.b)(ot.a)(De||(De=Object(w.a)(["\nth {background: #1F386B; color:white;}\ntr{\n    cursor:pointer;\n    &:hover{\n        background: lightgray;\n    }\n}\n"]))),Yt=function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ce,{}),Object(U.jsxs)(Ht,{children:[Object(U.jsx)(oe,{}),Object(U.jsxs)(Z.b,{to:"/inventory",children:[" ",Object(U.jsx)(Pt,{className:"btn btn-md mt-4 mb-4 float-right",children:" Inventory "})," "]}),Object(U.jsxs)(Z.b,{to:"/recieveitems",children:[" ",Object(U.jsx)(Pt,{className:"btn btn-md mt-4 mb-4 mr-2 float-right",children:" Recieved Item "})," "]}),Object(U.jsx)(Gt,{})]})]})},Pt=Object(E.b)(N.a)(Fe||(Fe=Object(w.a)(["\n    background :#EFBB20;\n    border: none; \n    &:hover{\n    background: #0e8ccc;\n}\n"]))),Ht=Object(E.b)(q.a)(Te||(Te=Object(w.a)(["\n    width: 100%;\n    height: auto;\n    min-height: 100%;\n    min-height: 100vh;\n    margin-top:100px;\n"]))),zt=function(){var e=Object(p.useState)([]),t=Object(y.a)(e,2),n=t[0],c=t[1];Object(p.useEffect)((function(){function e(){return(e=Object(rt.a)(at.a.mark((function e(){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("".concat(P,"/storeitem"),{withCredentials:!0}).then((function(e){console.log(e.data),c(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var a=Object(p.useState)(!1),r=Object(y.a)(a,2),s=r[0],o=r[1],j=Object(p.useState)({}),i=Object(y.a)(j,2),b=i[0],l=i[1],d=function(){var e=Object(p.useState)(b.Item_Name),t=Object(y.a)(e,2),n=t[0],a=t[1],r=Object(p.useState)(b.Item_Quantity),j=Object(y.a)(r,2),i=j[0],l=j[1],d=Object(p.useState)(b.Item_Description),u=Object(y.a)(d,2),h=u[0],O=u[1],x=Object(p.useState)(b.Item_Type),m=Object(y.a)(x,2),g=m[0],f=m[1];return Object(U.jsxs)(st.a,{show:s,onHide:function(){o(!1)},children:[Object(U.jsx)(st.a.Header,{closeButton:!0,children:Object(U.jsx)(st.a.Title,{children:"Details"})}),Object(U.jsxs)(_.a,{onSubmit:function(e){e.preventDefault(),F.a.post("".concat(P,"/")+b._id+"/updateitem",{id:b._id,name:n,quantity:i,description:h,type:g}).then((function(e){o(!1),console.log(e),window.flash("Record Updated"),c(e.data)}))},children:[Object(U.jsxs)(Xt,{children:[Object(U.jsx)(_.a.Group,{children:Object(U.jsx)(_.a.Control,{type:"text",value:n,placeholder:"Item Name",onChange:function(e){a(e.target.value)}})}),Object(U.jsx)(_.a.Group,{children:Object(U.jsx)(_.a.Control,{type:"number",value:i,placeholder:"Item Quantity",onChange:function(e){l(e.target.value)}})}),Object(U.jsx)(_.a.Group,{children:Object(U.jsx)(_.a.Control,{type:"text",value:g,placeholder:"Item Type",onChange:function(e){f(e.target.value)}})}),Object(U.jsx)(_.a.Group,{children:Object(U.jsx)(_.a.Control,{type:"text",value:h,placeholder:"Item Description",onChange:function(e){O(e.target.value)}})})]}),Object(U.jsx)(st.a.Footer,{children:Object(U.jsx)(Wt,{type:"submit",className:"btn-success",children:"Update"})})]})]})},u=Object(p.useState)(""),h=Object(y.a)(u,2),O=h[0],x=h[1];return Object(U.jsxs)(U.Fragment,{children:[s?Object(U.jsx)("div",{children:Object(U.jsx)(d,{})}):null,Object(U.jsx)(ce,{}),Object(U.jsxs)(Kt,{children:[Object(U.jsx)(Jt,{children:Object(U.jsx)("h1",{children:"Store Inventory"})}),Object(U.jsx)(Jt,{className:"float-right",children:Object(U.jsx)(_.a,{children:Object(U.jsx)(Zt,{children:Object(U.jsx)(_.a.Control,{type:"text",placeholder:"Search",name:"searchbar",value:O,onChange:function(e){x(e.target.value)}})})})}),n.length>0&&Object(U.jsxs)(Vt,{responsive:!0,children:[Object(U.jsx)("thead",{children:Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("th",{children:"#"}),["Name","Type","Description","Quantity"].map((function(e,t){return Object(U.jsx)("th",{children:e},t)})),Object(U.jsx)("th",{})]})})}),Object(U.jsx)("tbody",{children:n.map((function(e,t){return e.Item_Name.toLowerCase().includes(O.toLowerCase())||e.Item_Description.toLowerCase().includes(O.toLowerCase())?Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("td",{children:t+1}),Object(U.jsxs)("td",{children:[e.Item_Name,Object(U.jsx)("br",{})]}),Object(U.jsx)("td",{children:e.Item_Type}),Object(U.jsx)("td",{children:e.Item_Description}),Object(U.jsx)("td",{children:e.Item_Quantity}),Object(U.jsx)("td",{children:Object(U.jsx)(Wt,{onClick:function(){l(e),o(!0)},children:"Update"})})]})}):Object(U.jsx)("tr",{})}))})]}),0===n.length&&Object(U.jsx)("h2",{children:"No Items."})]})]})},Jt=Object(E.b)(S.a)(Be||(Be=Object(w.a)(["\n    padding:100px 16px 0px 0px;\n    \n\n\n"]))),Kt=Object(E.b)(q.a)(Ae||(Ae=Object(w.a)(["\n    width: 100%;\n  height: auto;\n  min-height: 100%;\n  min-height: 100vh;\n"]))),Vt=Object(E.b)(ot.a)(Qe||(Qe=Object(w.a)(["\nth {background: #1F386B; color:white;}\ntr{\n    cursor:pointer;\n    &:hover{\n        background: lightgray;\n    }\n}\n"]))),Wt=Object(E.b)(N.a)(Ue||(Ue=Object(w.a)(["\nbackground :#EFBB20;\nmargin-left : 10px;\nborder: none; \n&:hover{\nbackground: #0e8ccc;\n}\n"]))),Xt=Object(E.b)(st.a.Body)(Me||(Me=Object(w.a)(["\n\nli{\n    padding:5px;\n}\n\n"]))),Zt=Object(E.b)(_.a.Group)(Ge||(Ge=Object(w.a)(["\ndisplay : flex\n\n"]))),$t=function(){var e=Object(p.useState)([]),t=Object(y.a)(e,2),n=t[0],c=t[1];function a(){return(a=Object(rt.a)(at.a.mark((function e(){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("".concat(P,"/recieveitem"),{withCredentials:!0}).then((function(e){console.log(e.data),c(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(p.useEffect)((function(){!function(){a.apply(this,arguments)}()}),[]);var r=Object(p.useState)(!1),s=Object(y.a)(r,2),o=s[0],j=s[1],i=Object(p.useState)({}),b=Object(y.a)(i,2),l=b[0],d=b[1],u=function(){var e=Object(p.useState)(""),t=Object(y.a)(e,2),n=t[0],c=t[1],a=Object(p.useState)(""),r=Object(y.a)(a,2),s=r[0],i=r[1],b=Object(p.useState)(""),d=Object(y.a)(b,2),u=d[0],h=d[1],O=Object(p.useState)(""),x=Object(y.a)(O,2),m=x[0],g=x[1];return Object(U.jsxs)(st.a,{show:o,onHide:function(){j(!1)},children:[Object(U.jsx)(st.a.Header,{closeButton:!0,children:Object(U.jsx)(st.a.Title,{children:"Add Item"})}),Object(U.jsxs)(_.a,{onSubmit:function(e){e.preventDefault(),F.a.post("".concat(P,"/")+"recieveitem",{id:l._id,name:n,quantity:s,description:u,type:m}).then((function(e){j(!1),console.log(e),window.flash("Record Updated")}))},children:[Object(U.jsxs)(an,{children:[Object(U.jsx)(_.a.Group,{children:Object(U.jsx)(_.a.Control,{type:"text",value:n,placeholder:"Item Name",onChange:function(e){c(e.target.value)}})}),Object(U.jsx)(_.a.Group,{children:Object(U.jsx)(_.a.Control,{type:"number",value:s,placeholder:"Item Quantity",onChange:function(e){i(e.target.value)}})}),Object(U.jsx)(_.a.Group,{children:Object(U.jsx)(_.a.Control,{type:"text",value:m,placeholder:"Item Type",onChange:function(e){g(e.target.value)}})}),Object(U.jsx)(_.a.Group,{children:Object(U.jsx)(_.a.Control,{type:"text",value:u,placeholder:"Item Description",onChange:function(e){h(e.target.value)}})})]}),Object(U.jsx)(st.a.Footer,{children:Object(U.jsx)(cn,{type:"submit",className:"btn-success",children:"Add to the Inventory"})})]})]})},h=Object(p.useState)(""),O=Object(y.a)(h,2),x=O[0],m=O[1];return Object(U.jsxs)(U.Fragment,{children:[o?Object(U.jsx)("div",{children:Object(U.jsx)(u,{})}):null,Object(U.jsx)(ce,{}),Object(U.jsxs)(tn,{children:[Object(U.jsx)(en,{children:Object(U.jsx)("h1",{children:"Recieve Items"})}),Object(U.jsx)(en,{className:"float-right",children:Object(U.jsx)(_.a,{children:Object(U.jsx)(rn,{children:Object(U.jsx)(_.a.Control,{type:"text",placeholder:"Search",name:"searchbar",value:x,onChange:function(e){m(e.target.value)}})})})}),n.length>0&&Object(U.jsxs)(nn,{responsive:!0,children:[Object(U.jsx)("thead",{children:Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("th",{children:"#"}),["Person Name","Item Name","Quantity","Requested Date"].map((function(e,t){return Object(U.jsx)("th",{children:e},t)})),Object(U.jsx)("th",{})]})})}),Object(U.jsx)("tbody",{children:n.map((function(e,t){return e.Item.toLowerCase().includes(x.toLowerCase())?Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("td",{children:t+1}),Object(U.jsxs)("td",{children:[e.R_Emp_Name,Object(U.jsx)("br",{})]}),Object(U.jsx)("td",{children:e.Item}),Object(U.jsx)("td",{children:e.Quantity}),Object(U.jsx)("td",{children:it()(e.Added).format("Do MMMM YYYY")}),Object(U.jsx)("td",{children:Object(U.jsx)(cn,{onClick:function(){d(e),j(!0)},children:"Recieved"})})]})}):Object(U.jsx)("tr",{})}))})]}),0===n.length&&Object(U.jsx)("h2",{children:"No Requests."})]})]})},en=Object(E.b)(S.a)(Le||(Le=Object(w.a)(["\n    padding:100px 16px 0px 0px;\n    \n\n\n"]))),tn=Object(E.b)(q.a)(Ye||(Ye=Object(w.a)(["\n    width: 100%;\n  height: auto;\n  min-height: 100%;\n  min-height: 100vh;\n"]))),nn=Object(E.b)(ot.a)(Pe||(Pe=Object(w.a)(["\nth {background: #1F386B; color:white;}\ntr{\n    cursor:pointer;\n    &:hover{\n        background: lightgray;\n    }\n}\n"]))),cn=Object(E.b)(N.a)(He||(He=Object(w.a)(["\nbackground :#EFBB20;\nmargin-left : 10px;\nborder: none; \n&:hover{\nbackground: #0e8ccc;\n}\n"]))),an=Object(E.b)(st.a.Body)(ze||(ze=Object(w.a)(["\n\nli{\n    padding:5px;\n}\n\n"]))),rn=Object(E.b)(_.a.Group)(Je||(Je=Object(w.a)(["\ndisplay : flex\n\n"]))),sn=function(){var e=Object(H.g)(),t=Object(H.h)().id,n=Object(p.useState)({}),c=Object(y.a)(n,2),a=c[0],r=c[1],s=Object(p.useState)(""),o=Object(y.a)(s,2),j=o[0],i=o[1],b=Object(p.useState)([]),l=Object(y.a)(b,2),d=l[0],u=l[1];function h(){return O.apply(this,arguments)}function O(){return(O=Object(rt.a)(at.a.mark((function n(){return at.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,F.a.get("".concat(P,"/")+t+"/issuerequest",{withCredentials:!0}).then((function(t){console.log("IN ISSUE_ITEMS.JS BLABLA",t.data),404===t.data.code?e.push("/storedashboard"):200===t.data.code&&(console.log(t.data),r(t.data.requested_item),u(t.data.inventory_items),i(t.data.requested_item.Item))}));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}Object(p.useEffect)((function(){h()}),[]);var x=Object(p.useState)(!1),m=Object(y.a)(x,2),g=m[0],f=m[1],v=Object(p.useState)({}),w=Object(y.a)(v,2),k=w[0],R=w[1],S=Object(p.useState)(""),C=Object(y.a)(S,2),N=C[0],q=C[1],E=function(){var t=Object(p.useState)(k.Item_Name),n=Object(y.a)(t,2),c=(n[0],n[1],Object(p.useState)(k.Item_Quantity)),r=Object(y.a)(c,2),s=(r[0],r[1],Object(p.useState)(k.Item_Description)),o=Object(y.a)(s,2),j=(o[0],o[1],Object(p.useState)(k.Item_Type)),i=Object(y.a)(j,2),b=(i[0],i[1],Object(p.useState)(0)),l=Object(y.a)(b,2),d=l[0],u=l[1];return Object(U.jsxs)(st.a,{show:g,onHide:function(){f(!1)},children:[Object(U.jsx)(st.a.Header,{closeButton:!0,children:Object(U.jsx)(st.a.Title,{children:"Details"})}),Object(U.jsxs)(dn,{children:[Object(U.jsx)("h5",{children:Object(U.jsx)("strong",{children:"Requested Item Information"})}),Object(U.jsxs)("p",{children:["Item Name: ",a.Item]}),Object(U.jsxs)("p",{children:["Quantity Requested: ",a.Quantity]}),Object(U.jsxs)("p",{children:["Duration of Request: ",a.Duration]}),Object(U.jsx)("h5",{children:Object(U.jsx)("strong",{children:"Inventory Information"})}),Object(U.jsxs)("p",{children:["Item Name: ",k.Item_Name]}),Object(U.jsxs)("p",{children:["Quantity Available: ",k.Item_Quantity]}),Object(U.jsx)("p",{children:Object(U.jsx)("strong",{children:"Set Issue Quantity"})}),Object(U.jsx)(_.a,{children:Object(U.jsx)(_.a.Control,{type:"number",value:d,onChange:function(e){u(e.target.value)}})})]}),Object(U.jsx)(st.a.Footer,{children:Object(U.jsx)(ln,{onClick:function(){return k.Item_Quantity,console.log("Quantity : ",k.Item_Quantity-d),void F.a.post("".concat(P,"/issued_item"),{quantity:d,request_id:a._id,item_id:N}).then((function(t){f(!1),console.log(t),404===t.data.code?(window.scrollTo(0,0),window.flash("Item Quantity Invalid","danger")):200===t.data.code&&(window.scrollTo(0,0),window.flash("Item Successfully Issued "),e.push("/storedashboard"))}))},type:"submit",className:"btn-success",children:"Issue"})})]})};return Object(U.jsxs)(U.Fragment,{children:[g?Object(U.jsx)("div",{children:Object(U.jsx)(E,{})}):null,Object(U.jsx)(ce,{}),Object(U.jsxs)(jn,{children:[Object(U.jsx)(on,{children:Object(U.jsx)("h1",{children:"Store Inventory"})}),Object(U.jsx)(on,{children:Object(U.jsxs)(I.a,{children:[Object(U.jsx)(I.a.Header,{children:"Requested Item Information"}),Object(U.jsxs)(I.a.Body,{children:[Object(U.jsxs)(I.a.Title,{children:["Item Name: ",a.Item]}),Object(U.jsxs)(I.a.Title,{children:["Quantity Requested: ",a.Quantity]}),Object(U.jsxs)(I.a.Title,{children:["Duration of Request: ",a.Duration]})]}),Object(U.jsxs)(I.a.Footer,{children:[Object(U.jsx)(ln,{className:"btn-success",onClick:function(){F.a.post("".concat(P,"/request_forward_purchase"),{id:t}).then((function(t){t.data&&(f(!1),console.log("Request Forwarded to Purchase Department"),window.flash("Request Forwarded to Purchase Department"),e.push("/storedashboard"))}))},children:"Send To Purchase Department"}),Object(U.jsx)(ln,{onClick:function(){return t=a._id,n=a.R_Emp_Email,c=a.R_Emp_Name,r=a.Item,void F.a.post("".concat(P,"/request_cancel"),{id:t,email:n,name:c,item:r}).then((function(t){t.data&&(window.flash("Request Cancelled"),h(),e.push("/storedashboard"))}));var t,n,c,r},className:"btn-danger",children:"Cancel"})]})]})}),Object(U.jsx)(on,{className:"float-right",children:Object(U.jsx)(_.a,{children:Object(U.jsxs)(un,{children:[Object(U.jsx)(hn,{children:"Search "}),Object(U.jsx)(_.a.Control,{type:"text",placeholder:"Search",name:"searchbar",value:j,onChange:function(e){i(e.target.value)}})]})})}),d.length>0&&Object(U.jsxs)(bn,{responsive:!0,children:[Object(U.jsx)("thead",{children:Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("th",{children:"#"}),["Name","Type","Description","Quantity"].map((function(e,t){return Object(U.jsx)("th",{children:e},t)})),Object(U.jsx)("th",{})]})})}),Object(U.jsx)("tbody",{children:d.map((function(e,t){if(e.Item_Name.toLowerCase().includes(j.toLowerCase())||e.Item_Description.toLowerCase().includes(j.toLowerCase()))return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("td",{children:t+1}),Object(U.jsxs)("td",{children:[e.Item_Name,Object(U.jsx)("br",{})]}),Object(U.jsx)("td",{children:e.Item_Type}),Object(U.jsx)("td",{children:e.Item_Description}),Object(U.jsx)("td",{children:e.Item_Quantity}),Object(U.jsx)("td",{children:Object(U.jsx)(ln,{onClick:function(){R(e),q(e._id),f(!0)},children:"Confirm Issue"})})]})})}))})]}),0===d.length&&Object(U.jsx)("h2",{className:"mt-2",children:"No Items."})]})]})},on=Object(E.b)(S.a)(Ke||(Ke=Object(w.a)(["\n    padding:100px 16px 0px 0px;\n    \n\n\n"]))),jn=Object(E.b)(q.a)(Ve||(Ve=Object(w.a)(["\n    width: 100%;\n  height: auto;\n  min-height: 100%;\n  min-height: 100vh;\n"]))),bn=Object(E.b)(ot.a)(We||(We=Object(w.a)(["\nth {background: #1F386B; color:white;}\ntr{\n    cursor:pointer;\n    &:hover{\n        background: lightgray;\n    }\n}\n"]))),ln=Object(E.b)(N.a)(Xe||(Xe=Object(w.a)(["\nbackground :#EFBB20;\nmargin-left : 10px;\nborder: none; \n&:hover{\nbackground: #0e8ccc;\n}\n"]))),dn=Object(E.b)(st.a.Body)(Ze||(Ze=Object(w.a)(["\n\nli{\n    padding:10px;\n}\n\n"]))),un=Object(E.b)(_.a.Group)($e||($e=Object(w.a)(["\ndisplay : flex\n\n"]))),hn=Object(E.b)(_.a.Label)(et||(et=Object(w.a)(["\nfont-size : 25px\n\n"]))),On=Object(E.a)(tt||(tt=Object(w.a)(["\n@import url('https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&display=swap');\n    *{\n        font-family: 'Merriweather', sans-serif;\n   }\n    \n"])));var xn=function(){var e=g.a.useContext(z);return Object(U.jsxs)(H.d,{children:[Object(U.jsx)(H.b,{exact:!0,path:"/",render:function(){return localStorage.getItem("token")?(console.log("token found"),e.settoken(!0),e.setRole(localStorage.getItem("user"))):(console.log("No token found"),e.settoken(!1),e.setRole("")),console.log("Auth Token ",e.token),console.log("Auth User Role ",e.userRole),!1===e.token?(console.log("here"),Object(U.jsx)(J,{})):!1!==e.token&&"General"===e.UserRole?Object(U.jsx)(H.a,{to:"/dashboard"}):!1!==e.token&&"Purchase"===e.UserRole?Object(U.jsx)(H.a,{to:"/purchase"}):!1!==e.token&&"Head"===e.UserRole?Object(U.jsx)(H.a,{to:"/hoddashboard"}):!1===e.token||"Accounts"!==e.UserRole&&"Admin"!==e.UserRole&&"Director"!==e.UserRole?!1!==e.token&&"Store"===e.UserRole?Object(U.jsx)(H.a,{to:"/storedashboard"}):void 0:Object(U.jsx)(H.a,{to:"/managerdashboard"})}}),Object(U.jsx)(H.b,{path:"/inventory",render:function(){return!1!==e.token&&"Store"===e.UserRole?Object(U.jsx)(zt,{}):Object(U.jsx)(H.a,{exact:!0,to:"/"})}}),Object(U.jsx)(H.b,{path:"/:id/issuerequest",render:function(){return!1!==e.token&&"Store"===e.UserRole?Object(U.jsx)(sn,{}):Object(U.jsx)(H.a,{exact:!0,to:"/"})}}),Object(U.jsx)(H.b,{path:"/:id/accountsrequest",render:function(){return!1!==e.token&&"Accounts"===e.UserRole?Object(U.jsx)(Nt,{}):Object(U.jsx)(H.a,{exact:!0,to:"/"})}}),Object(U.jsx)(H.b,{path:"/recieveitems",render:function(){return!1!==e.token&&"Store"===e.UserRole?Object(U.jsx)($t,{}):Object(U.jsx)(H.a,{exact:!0,to:"/"})}}),Object(U.jsx)(H.b,{path:"/:id/adminrequest",render:function(){return!1!==e.token&&"Admin"===e.UserRole?Object(U.jsx)(Ft,{}):Object(U.jsx)(H.a,{exact:!0,to:"/"})}}),Object(U.jsx)(H.b,{path:"/:id/directorrequest",render:function(){return!1!==e.token&&"Director"===e.UserRole?Object(U.jsx)(Qt,{}):Object(U.jsx)(H.a,{exact:!0,to:"/"})}}),Object(U.jsx)(H.b,{path:"/dashboard",render:function(){return console.log("Auth Token ",e.token),console.log("Auth User Role ",e.userRole),!1===e.token||"General"!==e.UserRole&&"Head"!==e.UserRole?(console.log("here"),Object(U.jsx)(H.a,{exact:!0,to:"/"})):Object(U.jsx)(de,{})}}),Object(U.jsx)(H.b,{path:"/hoddashboard",render:function(){return!1!==e.token&&"Head"===e.UserRole?Object(U.jsx)(ht,{}):Object(U.jsx)(H.a,{to:"/"})}}),Object(U.jsx)(H.b,{path:"/logout",render:function(){return!1!==e.token?Object(U.jsx)(nt,{}):Object(U.jsx)(H.a,{to:"/"})}}),Object(U.jsx)(H.b,{path:"/purchase",render:function(){return!1!==e.token&&"Purchase"===e.UserRole?Object(U.jsx)(ft,{}):Object(U.jsx)(H.a,{to:"/"})}}),Object(U.jsx)(H.b,{path:"/managerdashboard",render:function(){return!1===e.token||"Admin"!==e.UserRole&&"Accounts"!==e.UserRole&&"Director"!==e.UserRole?Object(U.jsx)(H.a,{to:"/"}):Object(U.jsx)(St,{})}}),Object(U.jsx)(H.b,{path:"/storedashboard",render:function(){return!1!==e.token&&"Store"===e.UserRole?Object(U.jsx)(Yt,{}):Object(U.jsx)(H.a,{to:"/"})}})]})},mn=function(){var e=Object(p.useState)(!1),t=Object(y.a)(e,2),n=t[0],c=t[1],a=Object(p.useState)(!1),r=Object(y.a)(a,2),s=r[0],o=r[1];function j(){localStorage.getItem("token")?(console.log("token found"),c(!0),o(localStorage.getItem("user"))):(console.log("No token found"),c(!1),o(""))}return console.log(n),g.a.useEffect((function(){j()}),[]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(On,{}),Object(U.jsx)(z.Provider,{value:{token:n,settoken:c,UserRole:s,setRole:o,CheckUser:j},children:Object(U.jsx)(Z.a,{children:Object(U.jsx)(xn,{})})})]})};window.flash=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";return A.emit("flash",{message:e,type:t})},v.a.render(Object(U.jsx)(g.a.StrictMode,{children:Object(U.jsx)(mn,{})}),document.getElementById("root"))}},[[109,1,2]]]);
//# sourceMappingURL=main.0a0c2dd3.chunk.js.map