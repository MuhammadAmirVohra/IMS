(this.webpackJsonpinventory=this.webpackJsonpinventory||[]).push([[0],{111:function(e,t,n){"use strict";n.r(t);var c,a,r,s,o,j,i,d,b,l,u,h,O,x,m,p=n(1),g=n.n(p),f=n(24),v=n.n(f),y=n(6),w=n(4),k=n(31),R=n(26),C=n(117),_=n(75),S=n(124),N=n(126),I=n(118),q=n(119),E=n(5),D=n(10),F=n.n(D),T=n(125),B=n(70),A=new(n.n(B).a),Q=n(116),U=n(0),M=function(){var e=Object(p.useState)(!1),t=Object(y.a)(e,2),n=t[0],c=t[1],a=Object(p.useState)(""),r=Object(y.a)(a,2),s=r[0],o=r[1],j=Object(p.useState)(""),i=Object(y.a)(j,2),d=i[0],b=i[1];return Object(p.useEffect)((function(){A.addListener("flash",(function(e){var t=e.message,n=e.type;console.log("flash"),c(!0),o(t),b(n),setTimeout((function(){c(!1)}),2e3)}))}),[]),Object(p.useEffect)((function(){null!==document.querySelector(".close")&&document.querySelector(".close").addEventListener("click",(function(){return c(!1)}))})),n&&Object(U.jsx)(G,{variant:d,children:Object(U.jsx)("p",{className:"m-0 text-center",children:s})})},G=Object(E.b)(Q.a)(c||(c=Object(w.a)(["\n    margin-top : 90px;\n\n"]))),L=function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(M,{}),Object(U.jsx)(Y,{className:"fixed-top",variant:"dark",children:Object(U.jsxs)(T.a.Brand,{href:"",children:[Object(U.jsx)("img",{alt:"",src:"nav_logo.png",className:"d-inline-block align-top ml-3",height:"60",width:"60"}),Object(U.jsx)("h2",{className:"d-inline-block ml-3 mt-2 ",style:{fontSize:40},children:"Inventory Management System"})]})})]})},Y=Object(E.b)(T.a)(a||(a=Object(w.a)(["\n    // background:  rgba(0,0,0,0.8);\n    background: #1F386B;\n\n"]))),P="",H=n(11),z=g.a.createContext(),J=n(29),K=function(){var e=new J.a,t=g.a.useContext(z),n=Object(H.g)(),c=Object(p.useState)({username:"",password:""}),a=Object(y.a)(c,2),r=a[0],s=a[1],o=Object(p.useState)(!0),j=Object(y.a)(o,2),i=j[0],d=j[1],b=function(e){var t=e.target.value;s(Object(R.a)(Object(R.a)({},r),{},Object(k.a)({},e.target.name,t)))};function l(){var e=Object(p.useState)(!1),t=Object(y.a)(e,2),n=t[0],c=t[1];Object(p.useEffect)((function(){n&&new Promise((function(e){return setTimeout(e,2e3)})).then((function(){c(!1)}))}),[n]);return Object(U.jsx)(X,{disabled:n,onClick:n?null:function(){c(!0),u()},children:n?"Signing in..":"Sign In"})}var u=function(){F()({method:"POST",data:{username:r.username,password:r.password},withCredentials:!0,url:"".concat(P,"/login")}).then((function(c){console.log(c.data),c.data?(console.log(c.data),404===c.data.code?(t.settoken(!1),e.remove("token"),e.remove("user"),d(!1),window.flash("Login Failed","danger")):(t.settoken(!0),e.set("token",!0,{path:"/"}),e.set("user",c.data.user.Designation,{path:"/"}),t.setRole(c.data.user.Designation),"Head"===c.data.user.Designation?n.push("/hoddashboard"):"Purchase"===c.data.user.Designation?n.push("/purchase"):"Admin"===c.data.user.Designation||"Accounts"===c.data.user.Designation||"Director"===c.data.user.Designation?n.push("/managerdashboard"):"Store"===c.data.user.Designation?n.push("/storedashboard"):n.push("/dashboard"))):console.log("No user found")}))};return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(L,{}),Object(U.jsx)(Z,{className:"d-flex justify-content-center align-items-center",children:Object(U.jsx)(C.a,{children:Object(U.jsx)(_.a,{className:"text-center",children:Object(U.jsx)(W,{children:Object(U.jsxs)(S.a,{onSubmit:u,children:[Object(U.jsx)(N.a.Header,{className:"text-left",children:"LOGIN"}),Object(U.jsxs)(N.a.Body,{children:[Object(U.jsxs)(S.a.Group,{className:"text-left",children:[Object(U.jsx)(S.a.Label,{children:"Username : "}),Object(U.jsx)(S.a.Control,{placeholder:"Enter Username",onChange:b,type:"text",name:"username",value:r.username})]}),Object(U.jsxs)(S.a.Group,{className:"text-left",children:[Object(U.jsx)(S.a.Label,{children:"Password : "}),Object(U.jsx)(S.a.Control,{onKeyUp:function(e){13===e.keyCode&&(console.log("heree"),u())},placeholder:"Enter Password",onChange:b,type:"password",name:"password",value:r.password})]}),!1===i&&Object(U.jsx)(V,{className:"text-left",children:"*username or password incorrect"}),Object(U.jsx)(S.a.Group,{className:"text-right",children:Object(U.jsx)(l,{})})]})]})})})})})]})},V=Object(E.b)(N.a.Text)(r||(r=Object(w.a)(["\ncolor:red;\nmargin-top: -13px;\nfont-size: 12px;\n"]))),W=Object(E.b)(N.a)(s||(s=Object(w.a)(["\nbackground: white;\nbox-shadow: 6px 5px 5px rgb(0 0 0 );\n    width: 500px;\n    height: 350px;\n   \n"]))),X=Object(E.b)(I.a)(o||(o=Object(w.a)(["\n    background :#EFBB20;\n    border: none; \n    &:hover{\n    background: #0e8ccc;\n}\n"]))),Z=Object(E.b)(q.a)(j||(j=Object(w.a)(["\n    width: 100%;\n  height: 100vh;\n  min-height: 100%;\n  min-height: 100vh;\n"]))),$=n(21),ee=function(){var e=Object(p.useState)({Name:"",email:"",itemname:"",qty:"",duration:"",reason:""}),t=Object(y.a)(e,2),n=t[0],c=t[1],a=function(e){var t=e.target.value;c(Object(R.a)(Object(R.a)({},n),{},Object(k.a)({},e.target.name,t)))};return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(ne,{className:"d-flex justify-content-left align-items-left",children:Object(U.jsx)(C.a,{children:Object(U.jsx)(_.a,{className:"text-left",children:Object(U.jsxs)(te,{onSubmit:function(e){e.preventDefault(),F()({method:"POST",data:{R_Emp_Name:n.Name,R_Emp_Email:n.email,Item:n.itemname,Quantity:n.qty,Duration:n.duration,Reason:n.reason},withCredentials:!0,url:"".concat(P,"/add_request")}).then((function(e){console.log(e.data),e.data?(console.log(e.data),window.flash("Request Forwarded\nRequest ID : "+e.data._id),c({Name:"",email:"",itemname:"",qty:"",duration:"",reason:""})):console.log("No user found")}))},children:[Object(U.jsxs)(S.a.Group,{children:[Object(U.jsx)(S.a.Label,{children:"Name : "}),Object(U.jsx)(S.a.Control,{placeholder:"Enter Name",onChange:a,type:"text",name:"Name",value:n.Name})]}),Object(U.jsxs)(S.a.Group,{children:[Object(U.jsx)(S.a.Label,{children:"Email : "}),Object(U.jsx)(S.a.Control,{placeholder:"Enter Email",onChange:a,type:"email",name:"email",value:n.email})]}),Object(U.jsxs)(S.a.Group,{children:[Object(U.jsx)(S.a.Label,{children:"Item : "}),Object(U.jsx)(S.a.Control,{placeholder:"Enter Item Name",onChange:a,type:"text",name:"itemname",value:n.itemname})]}),Object(U.jsxs)(S.a.Row,{children:[Object(U.jsxs)(S.a.Group,{as:_.a,children:[Object(U.jsx)(S.a.Label,{children:"Quantity : "}),Object(U.jsx)(S.a.Control,{placeholder:"Enter Quantity",onChange:a,type:"number",name:"qty",value:n.qty})]}),Object(U.jsxs)(S.a.Group,{as:_.a,children:[Object(U.jsx)(S.a.Label,{children:"Duration : "}),Object(U.jsx)(S.a.Control,{placeholder:"Enter Duration",onChange:a,type:"text",name:"duration",value:n.duration})]})]}),Object(U.jsxs)(S.a.Group,{children:[Object(U.jsx)(S.a.Label,{children:"Reason : "}),Object(U.jsx)(S.a.Control,{placeholder:"Elaborate Reason(Optional)",as:"textarea",rows:4,onChange:a,type:"text",name:"reason",value:n.reason})]}),Object(U.jsx)(S.a.Group,{className:"text-right",children:Object(U.jsx)(ce,{type:"submit",className:"btn btn-md btn-success",children:"Submit"})})]})})})})})},te=Object(E.b)(S.a)(i||(i=Object(w.a)(["\n    background-color: white;\n    width: 500px;\n    .form-group{  \n        &:hover{\n\n        }\n    }\n\n"]))),ne=Object(E.b)(q.a)(d||(d=Object(w.a)(["\n    width: 100%;\n  height: 100vh;\n  min-height: 100%;\n  min-height: 100vh;\n"]))),ce=Object(E.b)(I.a)(b||(b=Object(w.a)(["\n    background :#EFBB20;\n    border: none; \n    &:hover{\n    background: #0e8ccc;\n}\n"]))),ae=function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(M,{}),Object(U.jsx)(re,{className:"fixed-top",children:Object(U.jsx)($.b,{to:"/logout",children:Object(U.jsx)(se,{className:"btn-primary btn-md mr-4",children:"Log Out"})})})]})},re=Object(E.b)(T.a)(l||(l=Object(w.a)(["\n    // background:  rgba(0,0,0,0.8);\n    background: #1F386B;\n    justify-content:flex-end;\n"]))),se=Object(E.b)(I.a)(u||(u=Object(w.a)(["\n    background :#EFBB20;\n    border: none; \n    &:hover{\n    background: #0e8ccc;\n}\n"]))),oe=n(74),je=function(){var e=Object(p.useState)({name:"",username:"",password:""}),t=Object(y.a)(e,2),n=t[0],c=t[1],a=Object(p.useState)({emp_Name:"",designation:"",department:""}),r=Object(y.a)(a,2),s=r[0],o=r[1],j=Object(p.useState)(!1),i=Object(y.a)(j,2),d=i[0],b=i[1],l=Object(p.useState)({}),u=Object(y.a)(l,2),h=u[0],O=u[1],x=Object(H.g)();Object(p.useEffect)((function(){F.a.get("".concat(P,"/dashboard"),{withCredentials:!0}).then((function(e){if(e.data){console.log(e.data);var t=e.data;O(e.data.user._id),c({name:e.data.user.Emp_Name,username:e.data.user.Username,password:e.data.user.Password}),console.log(e.data.user),o({emp_Name:t.user.Emp_Name,designation:t.user.Designation,department:t.department.Dept_Name})}else x.push("/logout")}))}),[x]);var m=function(e){var t=e.target.value;console.log(t),c(Object(R.a)(Object(R.a)({},n),{},Object(k.a)({},e.target.name,t)))};return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)(ie,{children:[Object(U.jsx)(ie.Header,{children:"User Information"}),Object(U.jsx)(ie.Body,{children:s&&Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(ie.Title,{children:[Object(U.jsx)("strong",{children:"User:  "}),s.emp_Name]}),Object(U.jsxs)(ie.Title,{children:[Object(U.jsx)("strong",{children:"Designation:"})," ",s.designation]}),Object(U.jsxs)(ie.Title,{children:[Object(U.jsx)("strong",{children:"Department:"})," ",s.department]}),Object(U.jsx)(de,{className:"mb-4",onClick:function(){return b(!d)},"aria-controls":"collapse_menu","aria-expanded":d,children:"Profile"}),Object(U.jsx)(oe.a,{in:d,children:Object(U.jsx)("div",{id:"collapse_menu",children:Object(U.jsxs)(S.a,{onSubmit:function(e){e.preventDefault(),F()({method:"POST",data:{id:h,name:n.name,username:n.username,password:n.password},withCredentials:!0,url:"".concat(P,"/update_profile")}).then((function(e){o(Object(R.a)(Object(R.a)({},s),{},{emp_Name:n.name})),b(!1)}))},children:[Object(U.jsxs)(S.a.Group,{children:[Object(U.jsx)(S.a.Label,{children:"Name :"}),Object(U.jsx)(S.a.Control,{name:"name",onChange:m,value:n.name})]}),Object(U.jsxs)(S.a.Group,{children:[Object(U.jsx)(S.a.Label,{children:"Username :"}),Object(U.jsx)(S.a.Control,{name:"username",onChange:m,value:n.username})]}),Object(U.jsxs)(S.a.Group,{children:[Object(U.jsx)(S.a.Label,{children:"Password :"}),Object(U.jsx)(S.a.Control,{name:"password",onChange:m,value:n.password})]}),Object(U.jsx)(de,{type:"submit",children:"Update"})]})})})]})})]})})},ie=Object(E.b)(N.a)(h||(h=Object(w.a)(["\n\n    width=25rem;\n\n"]))),de=Object(E.b)(I.a)(O||(O=Object(w.a)(["\n    background :#EFBB20;\n    border: none; \n    &:hover{\n    background: #0e8ccc;\n}"]))),be=function(){var e=Object(p.useState)({}),t=Object(y.a)(e,2),n=t[0],c=t[1],a=Object(p.useState)(!1),r=Object(y.a)(a,2),s=r[0],o=r[1],j=Object(p.useState)(!1),i=Object(y.a)(j,2),d=i[0],b=i[1],l=Object(p.useState)(""),u=Object(y.a)(l,2),h=u[0],O=u[1],x=Object(p.useState)({status:"",item:""}),m=Object(y.a)(x,2),g=m[0],f=m[1];return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(le,{className:"mb-4",onClick:function(){return b(!d)},"aria-controls":"collapse_menu","aria-expanded":d,children:"Track Request"}),Object(U.jsx)(oe.a,{in:d,children:Object(U.jsxs)("div",{id:"collapse_menu",children:[Object(U.jsxs)(S.a,{onSubmit:function(e){o(!1),O(""),e.preventDefault(),F.a.post("".concat(P,"/get_request"),{id:n}).then((function(e){console.log("STATUSSSS",e.data),404===e.data.code?O(e.data.message):(f({status:e.data.Status,item:e.data.Item}),o(!0),O(""))}))},children:[Object(U.jsx)(S.a.Control,{type:"text",placeholder:"Request ID",onChange:function(e){var t=e.target.value;c(t)},name:"RequestID"}),Object(U.jsx)("br",{}),Object(U.jsx)(le,{type:"submit",children:"Submit"})]}),Object(U.jsx)("h3",{className:"mt-2",children:h}),s&&Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)(N.a,{className:"mt-4",children:[Object(U.jsx)(N.a.Header,{children:"Request Status"}),Object(U.jsxs)(N.a.Body,{children:["Requested"===g.status||"Approved"===g.status||"Completed"===g.status||"Issued"===g.status?Object(U.jsxs)(N.a.Title,{children:["Status: ",g.status]}):Object(U.jsx)(N.a.Title,{children:"Status: Pending"}),Object(U.jsxs)(N.a.Title,{children:["Item: ",g.item]})]})]})})]})})]})},le=Object(E.b)(I.a)(x||(x=Object(w.a)(["\n\nbackground :#EFBB20;\nborder: none; \n&:hover{\nbackground: #0e8ccc;\n}\n\n"]))),ue=function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ae,{}),Object(U.jsx)(he,{children:Object(U.jsxs)(C.a,{children:[Object(U.jsxs)(_.a,{children:[Object(U.jsx)(je,{}),Object(U.jsx)("br",{}),Object(U.jsx)(be,{})]}),Object(U.jsxs)(_.a,{children:[Object(U.jsx)("h1",{children:"Requisition Form: "}),Object(U.jsx)(ee,{})]})]})})]})},he=Object(E.b)(q.a)(m||(m=Object(w.a)(["\n    width: 100%;\n    height: auto;\n    min-height: 100%;\n    min-height: 100vh;\n    margin-top:100px;\n"])));var Oe,xe,me,pe,ge,fe,ve,ye,we,ke,Re,Ce,_e,Se,Ne,Ie,qe,Ee,De,Fe,Te,Be,Ae,Qe,Ue,Me,Ge,Le,Ye,Pe,He,ze,Je,Ke,Ve,We,Xe,Ze,$e,et,tt,nt,ct=function(){var e=new J.a,t=Object(H.g)(),n=g.a.useContext(z);return F.a.get("".concat(P,"/logout")).then((function(c){n.settoken(!1),e.remove("user"),e.remove("token"),t.push("/")})),Object(U.jsx)("div",{})},at=n(12),rt=n.n(at),st=n(15),ot=n(123),jt=n(120),it=n(18),dt=n.n(it),bt=function(){var e=Object(p.useState)([]),t=Object(y.a)(e,2),n=t[0],c=t[1];function a(){return r.apply(this,arguments)}function r(){return(r=Object(st.a)(rt.a.mark((function e(){return rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("".concat(P,"/get_all_request"),{withCredentials:!0}).then((function(e){console.log(e.data),c(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(p.useEffect)((function(){a()}),[]);var s=Object(p.useState)(!1),o=Object(y.a)(s,2),j=o[0],i=o[1],d=Object(p.useState)({}),b=Object(y.a)(d,2),l=b[0],u=b[1],h=function(){var e=Object(p.useState)(""),t=Object(y.a)(e,2),n=t[0],c=t[1];return Object(U.jsxs)(ot.a,{show:j,onHide:function(){i(!1)},children:[Object(U.jsx)(ot.a.Header,{closeButton:!0,children:Object(U.jsx)(ot.a.Title,{children:"Details"})}),Object(U.jsxs)(S.a,{children:[Object(U.jsx)(ht,{children:Object(U.jsxs)("ul",{className:"list-unstyled",children:[Object(U.jsxs)("li",{children:[Object(U.jsx)("strong",{children:"Requested by:"})," ",l.R_Emp_Name]}),Object(U.jsxs)("li",{children:[Object(U.jsx)("strong",{children:"Email:"})," ",l.R_Emp_Email]}),Object(U.jsxs)("li",{children:[Object(U.jsx)("strong",{children:"Item:"})," ",l.Item]}),Object(U.jsxs)("li",{children:[Object(U.jsx)("strong",{children:"Quantity:"})," ",l.Quantity]}),Object(U.jsxs)("li",{children:[Object(U.jsx)("strong",{children:"Duration:"})," ",l.Duration]}),Object(U.jsxs)("li",{children:[Object(U.jsx)("strong",{children:"Reason:"})," ",l.Reason]}),Object(U.jsx)("li",{className:"mt-3",children:Object(U.jsx)(S.a.Group,{children:Object(U.jsx)(S.a.Control,{as:"textarea",value:n,onChange:function(e){c(e.target.value)},placeholder:"Additional Comments",row:6})})})]})}),Object(U.jsxs)(ot.a.Footer,{children:[Object(U.jsx)(ut,{className:"btn-success",onClick:function(){console.log("Approve Request"),F.a.post("".concat(P,"/request_approve"),{id:l._id}).then((function(e){e.data&&(window.flash("Request Approved"),i(!1),a())}))},children:"Approve"}),Object(U.jsx)(ut,{className:"btn-danger",onClick:function(){F.a.post("".concat(P,"/request_reject"),{id:l._id,name:l.R_Emp_Name,email:l.R_Emp_Email,item:l.Item,comment:n}).then((function(e){e.data&&(window.flash("Request Rejected"),i(!1),a())}))},children:"Reject"})]})]})]})};return Object(U.jsxs)(U.Fragment,{children:[j?Object(U.jsx)("div",{children:Object(U.jsx)(h,{})}):null,Object(U.jsxs)(q.a,{children:[n.length>0&&Object(U.jsxs)(lt,{responsive:!0,children:[Object(U.jsx)("thead",{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("th",{children:"#"}),["Requested By","Email","Date Requested","Item Name","Quantity","Duration"].map((function(e,t){return Object(U.jsx)("th",{children:e},t)}))]})}),Object(U.jsx)("tbody",{children:n.map((function(e,t){return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("tr",{onClick:function(){u(e),i(!0)},children:[Object(U.jsx)("td",{children:t+1}),Object(U.jsxs)("td",{children:[e.R_Emp_Name,Object(U.jsx)("br",{})]}),Object(U.jsx)("td",{children:e.R_Emp_Email}),Object(U.jsx)("td",{children:dt()(e.Added).format("Do MMMM YYYY")}),Object(U.jsx)("td",{children:e.Item}),Object(U.jsx)("td",{children:e.Quantity}),Object(U.jsx)("td",{children:e.Duration})]})})}))})]}),0===n.length&&Object(U.jsx)("h2",{children:"No Requests."})]})]})},lt=Object(E.b)(jt.a)(Oe||(Oe=Object(w.a)(["\nth {background: #1F386B; color:white;}\ntr{\n    cursor:pointer;\n    &:hover{\n        // background: #1F386B;\n    }\n}\n"]))),ut=Object(E.b)(I.a)(xe||(xe=Object(w.a)(["\n&:hover{\n    background: #0e8ccc;\n}\n\n"]))),ht=Object(E.b)(ot.a.Body)(me||(me=Object(w.a)(["\n\nli{\n    padding:5px;\n}\n\n"]))),Ot=function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ae,{}),Object(U.jsxs)(mt,{children:[Object(U.jsx)(je,{}),Object(U.jsxs)($.b,{to:"/dashboard",children:[" ",Object(U.jsx)(xt,{className:"btn btn-md mt-4 mb-4 float-right",children:" Requisition Form "})," "]}),Object(U.jsx)(bt,{})]})]})},xt=Object(E.b)(I.a)(pe||(pe=Object(w.a)(["\n    background :#EFBB20;\n    border: none; \n    &:hover{\n    background: #0e8ccc;\n}\n"]))),mt=Object(E.b)(q.a)(ge||(ge=Object(w.a)(["\n    width: 100%;\n    height: auto;\n    min-height: 100%;\n    min-height: 100vh;\n    margin-top:100px;\n"]))),pt=function(){var e=Object(p.useState)([]),t=Object(y.a)(e,2),n=t[0],c=t[1];function a(){return r.apply(this,arguments)}function r(){return(r=Object(st.a)(rt.a.mark((function e(){return rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("".concat(P,"/get_purchase_request"),{withCredentials:!0}).then((function(e){console.log(e.data),c(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(p.useEffect)((function(){a()}),[]);var s=Object(p.useState)(!1),o=Object(y.a)(s,2),j=(o[0],o[1],Object(p.useState)(null)),i=Object(y.a)(j,2),d=i[0],b=i[1],l=Object(p.useState)(""),u=Object(y.a)(l,2),h=u[0],O=u[1],x=function(){var e=Object(st.a)(rt.a.mark((function e(t){var n;return rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log("File ",d),!d){e.next=9;break}return(n=new FormData).append("file",d),e.next=7,F.a.post("".concat(P,"/").concat(h,"/upload"),n,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){200==e.data.code?(window.flash("File Successfully Submitted"),a()):window.flash("Failed To Submit The File","danger")}));case 7:e.next=10;break;case 9:window.flash("Please select a file to add.","danger");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){console.log(e);var t=Object(y.a)(e.target.files,1)[0];console.log(t),b(t)};return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(q.a,{children:Object(U.jsxs)(gt,{responsive:"sm",children:[Object(U.jsx)("thead",{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("th",{children:"#"}),["Date Requested","Item Name","Quantity","Quotation"].map((function(e,t){return Object(U.jsx)("th",{children:e},t)}))]})}),Object(U.jsx)("tbody",{children:n.map((function(e,t){return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("td",{children:t+1}),Object(U.jsx)("td",{children:dt()(e.Added).format("Do MMMM YYYY")}),Object(U.jsx)("td",{children:e.Item}),Object(U.jsx)("td",{children:e.Quantity}),Object(U.jsx)("td",{children:Object(U.jsxs)(S.a,{onSubmit:x,children:[Object(U.jsx)(S.a.File,{name:"file",onChange:m}),Object(U.jsx)(ft,{type:"submit",className:"mt-2 btn btn-md",onClick:function(){O(e._id)},children:"Submit"})]})})]},t)})}))})]})})})},gt=Object(E.b)(jt.a)(fe||(fe=Object(w.a)(["\n\nth {background: #1F386B;color : white;}\ntr{\n    cursor:pointer;\n    &:hover{\n        background: lightgray;\n    }\n}\n"]))),ft=Object(E.b)(I.a)(ve||(ve=Object(w.a)(["\n    background :#EFBB20;\n    border: none; \n    &:hover{\n    background: #0e8ccc;\n}"]))),vt=(Object(E.b)(ot.a.Body)(ye||(ye=Object(w.a)(["\n\nli{\n    padding:5px;\n}\n\n"]))),function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ae,{}),Object(U.jsxs)(yt,{children:[Object(U.jsx)(je,{}),Object(U.jsx)("br",{}),Object(U.jsx)(pt,{})]})]})}),yt=Object(E.b)(q.a)(we||(we=Object(w.a)(["\n    width: 100%;\n    height: auto;\n    min-height: 100%;\n    min-height: 100vh;\n    margin-top:100px;\n"]))),wt=n(122),kt=n(121),Rt=function(){var e=new J.a,t=Object(p.useState)([]),n=Object(y.a)(t,2),c=n[0],a=n[1];function r(){return(r=Object(st.a)(rt.a.mark((function e(){return rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("".concat(P,"/get_accounts_requests"),{withCredentials:!0}).then((function(e){console.log(e.data),a(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(p.useEffect)((function(){!function(){r.apply(this,arguments)}()}),[]);var s=Object(H.g)();return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)(q.a,{children:[c.length>0&&Object(U.jsxs)(Ct,{responsive:!0,children:[Object(U.jsx)("thead",{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("th",{children:"#"}),["Requested By","Email","Date Requested","Item Name","Quantity","Duration"].map((function(e,t){return Object(U.jsx)("th",{children:e},t)}))]})}),Object(U.jsx)("tbody",{children:c.map((function(t,n){return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(wt.a,{placement:"bottom",overlay:Object(U.jsx)(kt.a,{id:"button-tooltip-2",children:"Click to see Details"}),children:Object(U.jsxs)("tr",{onClick:function(){!function(t){var n=e.get("user");"Admin"===n?s.push("/"+t+"/adminrequest"):"Director"===n?s.push("/"+t+"/directorrequest"):s.push("/"+t+"/accountsrequest")}(t._id)},children:[Object(U.jsx)("td",{children:n+1}),Object(U.jsxs)("td",{children:[t.R_Emp_Name,Object(U.jsx)("br",{})]}),Object(U.jsx)("td",{children:t.R_Emp_Email}),Object(U.jsx)("td",{children:dt()(t.Added).format("Do MMMM YYYY")}),Object(U.jsx)("td",{children:t.Item}),Object(U.jsx)("td",{children:t.Quantity}),Object(U.jsx)("td",{children:t.Duration})]})})})}))})]}),0===c.length&&Object(U.jsx)("h2",{children:"No Requests."})]})})},Ct=Object(E.b)(jt.a)(ke||(ke=Object(w.a)(["\nth {background: #1F386B; color:white;}\ntr{\n    cursor:pointer;\n    &:hover{\n        background: lightgray;\n    }\n}\n"]))),_t=function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ae,{}),Object(U.jsxs)(St,{children:[Object(U.jsx)(je,{}),Object(U.jsx)("br",{}),Object(U.jsx)(Rt,{})]})]})},St=Object(E.b)(q.a)(Re||(Re=Object(w.a)(["\n    width: 100%;\n    height: auto;\n    min-height: 100%;\n    min-height: 100vh;\n    margin-top:100px;\n"]))),Nt=n(38),It=n.n(Nt),qt=function(){var e=Object(p.useState)(""),t=Object(y.a)(e,2),n=t[0],c=t[1],a=Object(H.h)().id,r=Object(H.g)(),s=Object(p.useState)([]),o=Object(y.a)(s,2),j=o[0],i=o[1];console.log("Params ",a),Object(p.useEffect)((function(){F.a.get("".concat(P,"/")+a+"/accountsrequest").then((function(e){i(e.data),console.log(e.data)}))}),[a]);var d=function(){var e=Object(st.a)(rt.a.mark((function e(){return rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("".concat(P,"/").concat(a,"/download"),{responseType:"blob"}).then((function(e){It()(e.data,"quotation","pdf")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ae,{}),Object(U.jsx)(Et,{children:Object(U.jsxs)(N.a,{children:[Object(U.jsx)(N.a.Header,{children:"Request Details"}),Object(U.jsxs)(N.a.Body,{children:[Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Name: "}),j.R_Emp_Name]}),Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Email: "}),j.R_Emp_Email]}),Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Item: "}),j.Item]}),Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Duration: "}),j.Duration]}),Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Quantity: "}),j.Quantity]}),Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Reason : "}),j.Reason]}),Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Date Requested "}),dt()(j.Added).format("Do MMMM YYYY")]}),Object(U.jsx)(Dt,{onClick:d,children:"Download Quotation"}),Object(U.jsxs)(S.a,{className:"mt-4",onSubmit:function(){F.a.post("".concat(P,"/submitaccounts"),{id:a,comment:n}).then((function(e){200===e.data.code?(console.log("Comment Added"),r.push("/managerdashboard")):404===e.data.code&&window.flash("Failed to submit comment","danger")}))},children:[Object(U.jsxs)(S.a.Group,{children:[Object(U.jsxs)(Ft,{children:["Add Comments",Object(U.jsx)("span",{children:"*"})]}),Object(U.jsx)(S.a.Control,{placeholder:"Enter Comments",as:"textarea",row:5,value:n,onChange:function(e){c(e.target.value)}})]}),Object(U.jsx)(S.a.Group,{children:Object(U.jsx)(Dt,{type:"submit",className:"btn btn-md float-right",children:"Submit"})})]})]})]})})]})},Et=Object(E.b)(q.a)(Ce||(Ce=Object(w.a)(["\n    width: 100%;\n    height: auto;\n    min-height: 100%;\n    min-height: 100vh;\n    margin-top:100px;\n"]))),Dt=Object(E.b)(I.a)(_e||(_e=Object(w.a)(["\n    background :#EFBB20;\n    border: none; \n    &:hover{\n    background: #0e8ccc;\n}"]))),Ft=Object(E.b)(N.a.Title)(Se||(Se=Object(w.a)(["\nspan{\n    color : red;\n}\n"]))),Tt=function(){var e=Object(H.g)(),t=Object(H.h)().id,n=Object(p.useState)(""),c=Object(y.a)(n,2),a=c[0],r=c[1],s=Object(p.useState)({}),o=Object(y.a)(s,2),j=o[0],i=o[1],d=Object(p.useState)({}),b=Object(y.a)(d,2),l=b[0],u=b[1];console.log("Params ",t),Object(p.useEffect)((function(){F.a.get("".concat(P,"/")+t+"/adminrequest").then((function(e){i(e.data.request),u(e.data.comment),console.log(e.data)}))}),[t]);var h=function(){var e=Object(st.a)(rt.a.mark((function e(){return rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("".concat(P,"/").concat(t,"/download"),{responseType:"blob"}).then((function(e){It()(e.data,"quotation","pdf")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ae,{}),Object(U.jsx)(Bt,{children:Object(U.jsxs)(N.a,{children:[Object(U.jsx)(N.a.Header,{children:"Request Details"}),Object(U.jsxs)(N.a.Body,{children:[Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Name: "}),j.R_Emp_Name]}),Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Email: "}),j.R_Emp_Email]}),Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Item: "}),j.Item]}),Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Duration: "}),j.Duration]}),Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Quantity: "}),j.Quantity]}),Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Reason : "}),j.Reason]}),Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Date Requested "}),dt()(j.Added).format("Do MMMM YYYY")]}),Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Accounts Manager Comments : "}),l.Comment_Accounts]}),Object(U.jsx)(At,{onClick:h,children:"Download Quotation"}),Object(U.jsxs)(S.a,{className:"mt-4",onSubmit:function(){F.a.post("".concat(P,"/submitadmin"),{id:t,comment:a}).then((function(t){200===t.data.code?(console.log("Comment Added"),e.push("/managerdashboard")):404===t.data.code&&window.flash("Failed to submit comment","danger")}))},children:[Object(U.jsxs)(S.a.Group,{children:[Object(U.jsxs)(Qt,{children:["Add Comments",Object(U.jsx)("span",{children:"*"})]}),Object(U.jsx)(S.a.Control,{as:"textarea",row:5,value:a,onChange:function(e){r(e.target.value)}})]}),Object(U.jsx)(S.a.Group,{children:Object(U.jsx)(At,{type:"submit",className:"btn btn-md float-right",children:"Submit"})})]})]})]})})]})},Bt=Object(E.b)(q.a)(Ne||(Ne=Object(w.a)(["\n    width: 100%;\n    height: auto;\n    min-height: 100%;\n    min-height: 100vh;\n    margin-top:100px;\n"]))),At=Object(E.b)(I.a)(Ie||(Ie=Object(w.a)(["\n    background :#EFBB20;\n    border: none; \n    &:hover{\n    background: #0e8ccc;\n}"]))),Qt=Object(E.b)(N.a.Title)(qe||(qe=Object(w.a)(["\nspan{\n    color : red;\n}\n"]))),Ut=function(){var e=Object(H.g)(),t=Object(H.h)().id,n=Object(p.useState)({request:{},comment:[]}),c=Object(y.a)(n,2),a=c[0],r=c[1];console.log("Params ",t);var s=g.a.createRef();Object(p.useEffect)((function(){F.a.get("".concat(P,"/")+t+"/directorrequest").then((function(e){r(e.data),console.log(t)}))}),[t]);var o=function(){var e=Object(st.a)(rt.a.mark((function e(){return rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("".concat(P,"/").concat(t,"/download"),{responseType:"blob"}).then((function(e){It()(e.data,a.request.Item+"_quotation","pdf")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ae,{}),Object(U.jsx)(Mt,{children:Object(U.jsxs)(N.a,{children:[Object(U.jsx)(N.a.Header,{children:"Request Details"}),Object(U.jsxs)(N.a.Body,{ref:s,children:[Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"ID: "}),t]}),Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Name: "}),a.request.R_Emp_Name]}),Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Email: "}),a.request.R_Emp_Email]}),Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Item: "}),a.request.Item]}),Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Duration: "}),a.request.Duration]}),Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Quantity: "}),a.request.Quantity]}),Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Reason : "}),a.request.Reason]}),Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Date Requested "}),dt()(a.request.Added).format("Do MMMM YYYY")]}),Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Accounts Manager Comments : "}),a.comment.Comment_Accounts]}),Object(U.jsxs)(N.a.Title,{children:[Object(U.jsx)("strong",{children:"Admin Manager Comments : "}),a.comment.Comment_Admin]}),Object(U.jsx)(Gt,{onClick:o,children:"Download Quotation"})]}),Object(U.jsxs)(N.a.Footer,{children:[Object(U.jsx)(Gt,{children:Object(U.jsx)("a",{href:"".concat(P,"/")+t+"/pdf",children:"Generate Pdf"})}),Object(U.jsx)(Gt,{onClick:function(){F.a.post("".concat(P,"/")+t+"/acceptdirector").then((function(t){200===t.status?(console.log("Requested Accepted"),window.flash("Requested Accepted"),e.push("/managerdashboard")):(console.log("Requested Failed to Accept"),window.flash("Requested Failed to Accept","danger"))}))},children:"Accept"}),Object(U.jsx)(Gt,{onClick:function(){F.a.post("".concat(P,"/")+t+"/rejectdirector",{name:a.request.R_Emp_Name,email:a.request.R_Emp_Email,item:a.request.Item}).then((function(t){200===t.status?(console.log("Requested Rejected"),window.flash("Requested Rejected"),e.push("/managerdashboard")):(console.log("Requested Failed to Reject"),window.flash("Requested Failed to Reject","danger"))}))},children:"Reject"})]})]})})]})},Mt=Object(E.b)(q.a)(Ee||(Ee=Object(w.a)(["\n    width: 100%;\n    height: auto;\n    min-height: 100%;\n    min-height: 100vh;\n    margin-top:100px;\n"]))),Gt=Object(E.b)(I.a)(De||(De=Object(w.a)(["\n    background :#EFBB20;\n    border: none; \n    &:hover{\n    background: #0e8ccc;\n    a{\n        color: white;\n        text-decoration : none;\n    }\n}"]))),Lt=function(){var e=Object(p.useState)([]),t=Object(y.a)(e,2),n=t[0],c=t[1],a=Object(H.g)();function r(){return(r=Object(st.a)(rt.a.mark((function e(){return rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("".concat(P,"/storerequests"),{withCredentials:!0}).then((function(e){console.log(e.data),c(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.useEffect)((function(){!function(){r.apply(this,arguments)}()}),[]),Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)(q.a,{children:[n.length>0&&Object(U.jsxs)(Yt,{responsive:!0,children:[Object(U.jsx)("thead",{children:Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("th",{children:"#"}),["Requested By","Email","Item Name","Quantity","Duration"].map((function(e,t){return Object(U.jsx)("th",{children:e},t)})),Object(U.jsx)("th",{})]})})}),Object(U.jsx)("tbody",{children:n.map((function(e,t){return Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(wt.a,{placement:"bottom",overlay:Object(U.jsx)(kt.a,{id:"button-tooltip-2",children:"Click to see Details"}),children:Object(U.jsxs)("tr",{onClick:function(){var t;t=e._id,console.log("STORE TABLE MAIN ID FOR PARAMS",t),a.push("/"+t+"/issuerequest")},children:[Object(U.jsx)("td",{children:t+1}),Object(U.jsxs)("td",{children:[e.R_Emp_Name,Object(U.jsx)("br",{})]}),Object(U.jsx)("td",{children:e.R_Emp_Email}),Object(U.jsx)("td",{children:e.Item}),Object(U.jsx)("td",{children:e.Quantity}),Object(U.jsx)("td",{children:e.Duration})]},t)})})}))})]}),0===n.length&&Object(U.jsx)("h2",{children:"No Requests."})]})})},Yt=Object(E.b)(jt.a)(Fe||(Fe=Object(w.a)(["\nth {background: #1F386B; color:white;}\ntr{\n    cursor:pointer;\n    &:hover{\n        background: lightgray;\n    }\n}\n"]))),Pt=function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(ae,{}),Object(U.jsxs)(zt,{children:[Object(U.jsx)(je,{}),Object(U.jsxs)($.b,{to:"/inventory",children:[" ",Object(U.jsx)(Ht,{className:"btn btn-md mt-4 mb-4 float-right",children:" Inventory "})," "]}),Object(U.jsxs)($.b,{to:"/recieveitems",children:[" ",Object(U.jsx)(Ht,{className:"btn btn-md mt-4 mb-4 mr-2 float-right",children:" Recieved Item "})," "]}),Object(U.jsx)(Lt,{})]})]})},Ht=Object(E.b)(I.a)(Te||(Te=Object(w.a)(["\n    background :#EFBB20;\n    border: none; \n    &:hover{\n    background: #0e8ccc;\n}\n"]))),zt=Object(E.b)(q.a)(Be||(Be=Object(w.a)(["\n    width: 100%;\n    height: auto;\n    min-height: 100%;\n    min-height: 100vh;\n    margin-top:100px;\n"]))),Jt=function(){var e=Object(p.useState)([]),t=Object(y.a)(e,2),n=t[0],c=t[1];Object(p.useEffect)((function(){function e(){return(e=Object(st.a)(rt.a.mark((function e(){return rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("".concat(P,"/storeitem"),{withCredentials:!0}).then((function(e){console.log(e.data),c(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var a=Object(p.useState)(!1),r=Object(y.a)(a,2),s=r[0],o=r[1],j=Object(p.useState)({}),i=Object(y.a)(j,2),d=i[0],b=i[1],l=function(){var e=Object(p.useState)(d.Item_Name),t=Object(y.a)(e,2),n=t[0],a=t[1],r=Object(p.useState)(d.Item_Quantity),j=Object(y.a)(r,2),i=j[0],b=j[1],l=Object(p.useState)(d.Item_Description),u=Object(y.a)(l,2),h=u[0],O=u[1],x=Object(p.useState)(d.Item_Type),m=Object(y.a)(x,2),g=m[0],f=m[1];return Object(U.jsxs)(ot.a,{show:s,onHide:function(){o(!1)},children:[Object(U.jsx)(ot.a.Header,{closeButton:!0,children:Object(U.jsx)(ot.a.Title,{children:"Details"})}),Object(U.jsxs)(S.a,{onSubmit:function(e){e.preventDefault(),F.a.post("".concat(P,"/")+d._id+"/updateitem",{id:d._id,name:n,quantity:i,description:h,type:g}).then((function(e){o(!1),console.log(e),window.flash("Record Updated"),c(e.data)}))},children:[Object(U.jsxs)(Zt,{children:[Object(U.jsx)(S.a.Group,{children:Object(U.jsx)(S.a.Control,{type:"text",value:n,placeholder:"Item Name",onChange:function(e){a(e.target.value)}})}),Object(U.jsx)(S.a.Group,{children:Object(U.jsx)(S.a.Control,{type:"number",value:i,placeholder:"Item Quantity",onChange:function(e){b(e.target.value)}})}),Object(U.jsx)(S.a.Group,{children:Object(U.jsx)(S.a.Control,{type:"text",value:g,placeholder:"Item Type",onChange:function(e){f(e.target.value)}})}),Object(U.jsx)(S.a.Group,{children:Object(U.jsx)(S.a.Control,{type:"text",value:h,placeholder:"Item Description",onChange:function(e){O(e.target.value)}})})]}),Object(U.jsx)(ot.a.Footer,{children:Object(U.jsx)(Xt,{type:"submit",className:"btn-success",children:"Update"})})]})]})},u=Object(p.useState)(""),h=Object(y.a)(u,2),O=h[0],x=h[1];return Object(U.jsxs)(U.Fragment,{children:[s?Object(U.jsx)("div",{children:Object(U.jsx)(l,{})}):null,Object(U.jsx)(ae,{}),Object(U.jsxs)(Vt,{children:[Object(U.jsx)(Kt,{children:Object(U.jsx)("h1",{children:"Store Inventory"})}),Object(U.jsx)(Kt,{className:"float-right",children:Object(U.jsx)(S.a,{children:Object(U.jsx)($t,{children:Object(U.jsx)(S.a.Control,{type:"text",placeholder:"Search",name:"searchbar",value:O,onChange:function(e){x(e.target.value)}})})})}),n.length>0&&Object(U.jsxs)(Wt,{responsive:!0,children:[Object(U.jsx)("thead",{children:Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("th",{children:"#"}),["Name","Type","Description","Quantity"].map((function(e,t){return Object(U.jsx)("th",{children:e},t)})),Object(U.jsx)("th",{})]})})}),Object(U.jsx)("tbody",{children:n.map((function(e,t){return e.Item_Name.toLowerCase().includes(O.toLowerCase())||e.Item_Description.toLowerCase().includes(O.toLowerCase())?Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("td",{children:t+1}),Object(U.jsxs)("td",{children:[e.Item_Name,Object(U.jsx)("br",{})]}),Object(U.jsx)("td",{children:e.Item_Type}),Object(U.jsx)("td",{children:e.Item_Description}),Object(U.jsx)("td",{children:e.Item_Quantity}),Object(U.jsx)("td",{children:Object(U.jsx)(Xt,{onClick:function(){b(e),o(!0)},children:"Update"})})]})}):Object(U.jsx)("tr",{})}))})]}),0===n.length&&Object(U.jsx)("h2",{children:"No Items."})]})]})},Kt=Object(E.b)(C.a)(Ae||(Ae=Object(w.a)(["\n    padding:100px 16px 0px 0px;\n    \n\n\n"]))),Vt=Object(E.b)(q.a)(Qe||(Qe=Object(w.a)(["\n    width: 100%;\n  height: auto;\n  min-height: 100%;\n  min-height: 100vh;\n"]))),Wt=Object(E.b)(jt.a)(Ue||(Ue=Object(w.a)(["\nth {background: #1F386B; color:white;}\ntr{\n    cursor:pointer;\n    &:hover{\n        background: lightgray;\n    }\n}\n"]))),Xt=Object(E.b)(I.a)(Me||(Me=Object(w.a)(["\nbackground :#EFBB20;\nmargin-left : 10px;\nborder: none; \n&:hover{\nbackground: #0e8ccc;\n}\n"]))),Zt=Object(E.b)(ot.a.Body)(Ge||(Ge=Object(w.a)(["\n\nli{\n    padding:5px;\n}\n\n"]))),$t=Object(E.b)(S.a.Group)(Le||(Le=Object(w.a)(["\ndisplay : flex\n\n"]))),en=function(){var e=Object(p.useState)([]),t=Object(y.a)(e,2),n=t[0],c=t[1];function a(){return(a=Object(st.a)(rt.a.mark((function e(){return rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("".concat(P,"/recieveitem"),{withCredentials:!0}).then((function(e){console.log(e.data),c(e.data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(p.useEffect)((function(){!function(){a.apply(this,arguments)}()}),[]);var r=Object(p.useState)(!1),s=Object(y.a)(r,2),o=s[0],j=s[1],i=Object(p.useState)({}),d=Object(y.a)(i,2),b=d[0],l=d[1],u=function(){var e=Object(p.useState)(""),t=Object(y.a)(e,2),n=t[0],c=t[1],a=Object(p.useState)(""),r=Object(y.a)(a,2),s=r[0],i=r[1],d=Object(p.useState)(""),l=Object(y.a)(d,2),u=l[0],h=l[1],O=Object(p.useState)(""),x=Object(y.a)(O,2),m=x[0],g=x[1];return Object(U.jsxs)(ot.a,{show:o,onHide:function(){j(!1)},children:[Object(U.jsx)(ot.a.Header,{closeButton:!0,children:Object(U.jsx)(ot.a.Title,{children:"Add Item"})}),Object(U.jsxs)(S.a,{onSubmit:function(e){e.preventDefault(),F.a.post("".concat(P,"/")+"recieveitem",{id:b._id,name:n,quantity:s,description:u,type:m}).then((function(e){j(!1),console.log(e),window.flash("Record Updated")}))},children:[Object(U.jsxs)(rn,{children:[Object(U.jsx)(S.a.Group,{children:Object(U.jsx)(S.a.Control,{type:"text",value:n,placeholder:"Item Name",onChange:function(e){c(e.target.value)}})}),Object(U.jsx)(S.a.Group,{children:Object(U.jsx)(S.a.Control,{type:"number",value:s,placeholder:"Item Quantity",onChange:function(e){i(e.target.value)}})}),Object(U.jsx)(S.a.Group,{children:Object(U.jsx)(S.a.Control,{type:"text",value:m,placeholder:"Item Type",onChange:function(e){g(e.target.value)}})}),Object(U.jsx)(S.a.Group,{children:Object(U.jsx)(S.a.Control,{type:"text",value:u,placeholder:"Item Description",onChange:function(e){h(e.target.value)}})})]}),Object(U.jsx)(ot.a.Footer,{children:Object(U.jsx)(an,{type:"submit",className:"btn-success",children:"Add to the Inventory"})})]})]})},h=Object(p.useState)(""),O=Object(y.a)(h,2),x=O[0],m=O[1];return Object(U.jsxs)(U.Fragment,{children:[o?Object(U.jsx)("div",{children:Object(U.jsx)(u,{})}):null,Object(U.jsx)(ae,{}),Object(U.jsxs)(nn,{children:[Object(U.jsx)(tn,{children:Object(U.jsx)("h1",{children:"Recieve Items"})}),Object(U.jsx)(tn,{className:"float-right",children:Object(U.jsx)(S.a,{children:Object(U.jsx)(sn,{children:Object(U.jsx)(S.a.Control,{type:"text",placeholder:"Search",name:"searchbar",value:x,onChange:function(e){m(e.target.value)}})})})}),n.length>0&&Object(U.jsxs)(cn,{responsive:!0,children:[Object(U.jsx)("thead",{children:Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("th",{children:"#"}),["Person Name","Item Name","Quantity","Requested Date"].map((function(e,t){return Object(U.jsx)("th",{children:e},t)})),Object(U.jsx)("th",{})]})})}),Object(U.jsx)("tbody",{children:n.map((function(e,t){return e.Item.toLowerCase().includes(x.toLowerCase())?Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("td",{children:t+1}),Object(U.jsxs)("td",{children:[e.R_Emp_Name,Object(U.jsx)("br",{})]}),Object(U.jsx)("td",{children:e.Item}),Object(U.jsx)("td",{children:e.Quantity}),Object(U.jsx)("td",{children:dt()(e.Added).format("Do MMMM YYYY")}),Object(U.jsx)("td",{children:Object(U.jsx)(an,{onClick:function(){l(e),j(!0)},children:"Recieved"})})]})}):Object(U.jsx)("tr",{})}))})]}),0===n.length&&Object(U.jsx)("h2",{children:"No Requests."})]})]})},tn=Object(E.b)(C.a)(Ye||(Ye=Object(w.a)(["\n    padding:100px 16px 0px 0px;\n    \n\n\n"]))),nn=Object(E.b)(q.a)(Pe||(Pe=Object(w.a)(["\n    width: 100%;\n  height: auto;\n  min-height: 100%;\n  min-height: 100vh;\n"]))),cn=Object(E.b)(jt.a)(He||(He=Object(w.a)(["\nth {background: #1F386B; color:white;}\ntr{\n    cursor:pointer;\n    &:hover{\n        background: lightgray;\n    }\n}\n"]))),an=Object(E.b)(I.a)(ze||(ze=Object(w.a)(["\nbackground :#EFBB20;\nmargin-left : 10px;\nborder: none; \n&:hover{\nbackground: #0e8ccc;\n}\n"]))),rn=Object(E.b)(ot.a.Body)(Je||(Je=Object(w.a)(["\n\nli{\n    padding:5px;\n}\n\n"]))),sn=Object(E.b)(S.a.Group)(Ke||(Ke=Object(w.a)(["\ndisplay : flex\n\n"]))),on=function(){var e=Object(H.g)(),t=Object(H.h)().id,n=Object(p.useState)({}),c=Object(y.a)(n,2),a=c[0],r=c[1],s=Object(p.useState)(""),o=Object(y.a)(s,2),j=o[0],i=o[1],d=Object(p.useState)([]),b=Object(y.a)(d,2),l=b[0],u=b[1];function h(){return O.apply(this,arguments)}function O(){return(O=Object(st.a)(rt.a.mark((function n(){return rt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,F.a.get("".concat(P,"/")+t+"/issuerequest",{withCredentials:!0}).then((function(t){console.log("IN ISSUE_ITEMS.JS BLABLA",t.data),404===t.data.code?e.push("/storedashboard"):200===t.data.code&&(console.log(t.data),r(t.data.requested_item),u(t.data.inventory_items),i(t.data.requested_item.Item))}));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}Object(p.useEffect)((function(){h()}),[]);var x=Object(p.useState)(!1),m=Object(y.a)(x,2),g=m[0],f=m[1],v=Object(p.useState)({}),w=Object(y.a)(v,2),k=w[0],R=w[1],C=Object(p.useState)(""),_=Object(y.a)(C,2),I=_[0],q=_[1],E=function(){var t=Object(p.useState)(k.Item_Name),n=Object(y.a)(t,2),c=(n[0],n[1],Object(p.useState)(k.Item_Quantity)),r=Object(y.a)(c,2),s=(r[0],r[1],Object(p.useState)(k.Item_Description)),o=Object(y.a)(s,2),j=(o[0],o[1],Object(p.useState)(k.Item_Type)),i=Object(y.a)(j,2),d=(i[0],i[1],Object(p.useState)(0)),b=Object(y.a)(d,2),l=b[0],u=b[1];return Object(U.jsxs)(ot.a,{show:g,onHide:function(){f(!1)},children:[Object(U.jsx)(ot.a.Header,{closeButton:!0,children:Object(U.jsx)(ot.a.Title,{children:"Details"})}),Object(U.jsxs)(un,{children:[Object(U.jsx)("h5",{children:Object(U.jsx)("strong",{children:"Requested Item Information"})}),Object(U.jsxs)("p",{children:["Item Name: ",a.Item]}),Object(U.jsxs)("p",{children:["Quantity Requested: ",a.Quantity]}),Object(U.jsxs)("p",{children:["Duration of Request: ",a.Duration]}),Object(U.jsx)("h5",{children:Object(U.jsx)("strong",{children:"Inventory Information"})}),Object(U.jsxs)("p",{children:["Item Name: ",k.Item_Name]}),Object(U.jsxs)("p",{children:["Quantity Available: ",k.Item_Quantity]}),Object(U.jsx)("p",{children:Object(U.jsx)("strong",{children:"Set Issue Quantity"})}),Object(U.jsx)(S.a,{children:Object(U.jsx)(S.a.Control,{type:"number",value:l,onChange:function(e){u(e.target.value)}})})]}),Object(U.jsx)(ot.a.Footer,{children:Object(U.jsx)(ln,{onClick:function(){return k.Item_Quantity,console.log("Quantity : ",k.Item_Quantity-l),void F.a.post("".concat(P,"/issued_item"),{quantity:l,request_id:a._id,item_id:I}).then((function(t){f(!1),console.log(t),404===t.data.code?(window.scrollTo(0,0),window.flash("Item Quantity Invalid","danger")):200===t.data.code&&(window.scrollTo(0,0),window.flash("Item Successfully Issued "),e.push("/storedashboard"))}))},type:"submit",className:"btn-success",children:"Issue"})})]})};return Object(U.jsxs)(U.Fragment,{children:[g?Object(U.jsx)("div",{children:Object(U.jsx)(E,{})}):null,Object(U.jsx)(ae,{}),Object(U.jsxs)(dn,{children:[Object(U.jsx)(jn,{children:Object(U.jsx)("h1",{children:"Store Inventory"})}),Object(U.jsx)(jn,{children:Object(U.jsxs)(N.a,{children:[Object(U.jsx)(N.a.Header,{children:"Requested Item Information"}),Object(U.jsxs)(N.a.Body,{children:[Object(U.jsxs)(N.a.Title,{children:["Item Name: ",a.Item]}),Object(U.jsxs)(N.a.Title,{children:["Quantity Requested: ",a.Quantity]}),Object(U.jsxs)(N.a.Title,{children:["Duration of Request: ",a.Duration]})]}),Object(U.jsxs)(N.a.Footer,{children:[Object(U.jsx)(ln,{className:"btn-success",onClick:function(){F.a.post("".concat(P,"/request_forward_purchase"),{id:t}).then((function(t){t.data&&(f(!1),console.log("Request Forwarded to Purchase Department"),window.flash("Request Forwarded to Purchase Department"),e.push("/storedashboard"))}))},children:"Send To Purchase Department"}),Object(U.jsx)(ln,{onClick:function(){return t=a._id,n=a.R_Emp_Email,c=a.R_Emp_Name,r=a.Item,void F.a.post("".concat(P,"/request_cancel"),{id:t,email:n,name:c,item:r}).then((function(t){t.data&&(window.flash("Request Cancelled"),h(),e.push("/storedashboard"))}));var t,n,c,r},className:"btn-danger",children:"Cancel"})]})]})}),Object(U.jsx)(jn,{className:"float-right",children:Object(U.jsx)(S.a,{children:Object(U.jsxs)(hn,{children:[Object(U.jsx)(On,{children:"Search "}),Object(U.jsx)(S.a.Control,{type:"text",placeholder:"Search",name:"searchbar",value:j,onChange:function(e){i(e.target.value)}})]})})}),l.length>0&&Object(U.jsxs)(bn,{responsive:!0,children:[Object(U.jsx)("thead",{children:Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("th",{children:"#"}),["Name","Type","Description","Quantity"].map((function(e,t){return Object(U.jsx)("th",{children:e},t)})),Object(U.jsx)("th",{})]})})}),Object(U.jsx)("tbody",{children:l.map((function(e,t){if(e.Item_Name.toLowerCase().includes(j.toLowerCase())||e.Item_Description.toLowerCase().includes(j.toLowerCase()))return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("tr",{children:[Object(U.jsx)("td",{children:t+1}),Object(U.jsxs)("td",{children:[e.Item_Name,Object(U.jsx)("br",{})]}),Object(U.jsx)("td",{children:e.Item_Type}),Object(U.jsx)("td",{children:e.Item_Description}),Object(U.jsx)("td",{children:e.Item_Quantity}),Object(U.jsx)("td",{children:Object(U.jsx)(ln,{onClick:function(){R(e),q(e._id),f(!0)},children:"Confirm Issue"})})]})})}))})]}),0===l.length&&Object(U.jsx)("h2",{className:"mt-2",children:"No Items."})]})]})},jn=Object(E.b)(C.a)(Ve||(Ve=Object(w.a)(["\n    padding:100px 16px 0px 0px;\n    \n\n\n"]))),dn=Object(E.b)(q.a)(We||(We=Object(w.a)(["\n    width: 100%;\n  height: auto;\n  min-height: 100%;\n  min-height: 100vh;\n"]))),bn=Object(E.b)(jt.a)(Xe||(Xe=Object(w.a)(["\nth {background: #1F386B; color:white;}\ntr{\n    cursor:pointer;\n    &:hover{\n        background: lightgray;\n    }\n}\n"]))),ln=Object(E.b)(I.a)(Ze||(Ze=Object(w.a)(["\nbackground :#EFBB20;\nmargin-left : 10px;\nborder: none; \n&:hover{\nbackground: #0e8ccc;\n}\n"]))),un=Object(E.b)(ot.a.Body)($e||($e=Object(w.a)(["\n\nli{\n    padding:10px;\n}\n\n"]))),hn=Object(E.b)(S.a.Group)(et||(et=Object(w.a)(["\ndisplay : flex\n\n"]))),On=Object(E.b)(S.a.Label)(tt||(tt=Object(w.a)(["\nfont-size : 25px\n\n"]))),xn=Object(E.a)(nt||(nt=Object(w.a)(["\n@import url('https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700&display=swap');\n    *{\n        font-family: 'Merriweather', sans-serif;\n   }\n    \n"])));var mn=function(){var e=new J.a,t=g.a.useContext(z);return Object(U.jsxs)(H.d,{children:[Object(U.jsx)(H.b,{exact:!0,path:"/",render:function(){return e.get("token")?(console.log("token found"),t.settoken(!0),t.setRole(e.get("user"))):(console.log("No token found"),t.settoken(!1),t.setRole("")),console.log("Auth Token ",t.token),console.log("Auth User Role ",t.userRole),!1===t.token?(console.log("here"),Object(U.jsx)(K,{})):!1!==t.token&&"General"===t.UserRole?Object(U.jsx)(H.a,{to:"/dashboard"}):!1!==t.token&&"Purchase"===t.UserRole?Object(U.jsx)(H.a,{to:"/purchase"}):!1!==t.token&&"Head"===t.UserRole?Object(U.jsx)(H.a,{to:"/hoddashboard"}):!1===t.token||"Accounts"!==t.UserRole&&"Admin"!==t.UserRole&&"Director"!==t.UserRole?!1!==t.token&&"Store"===t.UserRole?Object(U.jsx)(H.a,{to:"/storedashboard"}):void 0:Object(U.jsx)(H.a,{to:"/managerdashboard"})}}),Object(U.jsx)(H.b,{path:"/inventory",render:function(){return!1!==t.token&&"Store"===t.UserRole?Object(U.jsx)(Jt,{}):Object(U.jsx)(H.a,{exact:!0,to:"/"})}}),Object(U.jsx)(H.b,{path:"/:id/issuerequest",render:function(){return!1!==t.token&&"Store"===t.UserRole?Object(U.jsx)(on,{}):Object(U.jsx)(H.a,{exact:!0,to:"/"})}}),Object(U.jsx)(H.b,{path:"/:id/accountsrequest",render:function(){return!1!==t.token&&"Accounts"===t.UserRole?Object(U.jsx)(qt,{}):Object(U.jsx)(H.a,{exact:!0,to:"/"})}}),Object(U.jsx)(H.b,{path:"/recieveitems",render:function(){return!1!==t.token&&"Store"===t.UserRole?Object(U.jsx)(en,{}):Object(U.jsx)(H.a,{exact:!0,to:"/"})}}),Object(U.jsx)(H.b,{path:"/:id/adminrequest",render:function(){return!1!==t.token&&"Admin"===t.UserRole?Object(U.jsx)(Tt,{}):Object(U.jsx)(H.a,{exact:!0,to:"/"})}}),Object(U.jsx)(H.b,{path:"/:id/directorrequest",render:function(){return!1!==t.token&&"Director"===t.UserRole?Object(U.jsx)(Ut,{}):Object(U.jsx)(H.a,{exact:!0,to:"/"})}}),Object(U.jsx)(H.b,{path:"/dashboard",render:function(){return console.log("Auth Token ",t.token),console.log("Auth User Role ",t.userRole),!1===t.token||"General"!==t.UserRole&&"Head"!==t.UserRole?(console.log("here"),Object(U.jsx)(H.a,{exact:!0,to:"/"})):Object(U.jsx)(ue,{})}}),Object(U.jsx)(H.b,{path:"/hoddashboard",render:function(){return!1!==t.token&&"Head"===t.UserRole?Object(U.jsx)(Ot,{}):Object(U.jsx)(H.a,{to:"/"})}}),Object(U.jsx)(H.b,{path:"/logout",render:function(){return!1!==t.token?Object(U.jsx)(ct,{}):Object(U.jsx)(H.a,{to:"/"})}}),Object(U.jsx)(H.b,{path:"/purchase",render:function(){return!1!==t.token&&"Purchase"===t.UserRole?Object(U.jsx)(vt,{}):Object(U.jsx)(H.a,{to:"/"})}}),Object(U.jsx)(H.b,{path:"/managerdashboard",render:function(){return!1===t.token||"Admin"!==t.UserRole&&"Accounts"!==t.UserRole&&"Director"!==t.UserRole?Object(U.jsx)(H.a,{to:"/"}):Object(U.jsx)(_t,{})}}),Object(U.jsx)(H.b,{path:"/storedashboard",render:function(){return!1!==t.token&&"Store"===t.UserRole?Object(U.jsx)(Pt,{}):Object(U.jsx)(H.a,{to:"/"})}}),Object(U.jsx)(H.b,{path:"/*",render:function(){return Object(U.jsx)(H.a,{to:"/"})}})]})},pn=function(){var e=new J.a,t=Object(p.useState)(!1),n=Object(y.a)(t,2),c=n[0],a=n[1],r=Object(p.useState)(!1),s=Object(y.a)(r,2),o=s[0],j=s[1];function i(){if(e.get("token")){console.log("token found"),a(!0);var t=e.get("user");j(t)}else console.log("No token found"),a(!1),j("")}return console.log(c),g.a.useEffect((function(){i()}),[]),Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(xn,{}),Object(U.jsx)(z.Provider,{value:{token:c,settoken:a,UserRole:o,setRole:j,CheckUser:i},children:Object(U.jsx)($.a,{children:Object(U.jsx)(mn,{})})})]})};window.flash=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";return A.emit("flash",{message:e,type:t})},v.a.render(Object(U.jsx)(g.a.StrictMode,{children:Object(U.jsx)(pn,{})}),document.getElementById("root"))}},[[111,1,2]]]);
//# sourceMappingURL=main.e90ebbc4.chunk.js.map